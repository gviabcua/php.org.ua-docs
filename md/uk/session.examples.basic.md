---
navigation:
  - session.examples.md: « Приклади
  - session.idpassing.md: Передача идентификатора сессии »
  - index.md: PHP Manual
  - session.examples.md: Приклади
title: Основи використання
---
## Основи використання

Сесії є простим способом зберігання інформації окремих користувачів з унікальним ідентифікатором сесії. Це може бути використане для збереження стану між запитами сторінок. Ідентифікатори сесій зазвичай відправляються браузеру через сесійний cookie і використовуються для отримання наявних сесій даних. Відсутність ідентифікатора сесії або сесійного cookie повідомляє PHP про те, що необхідно створити нову сесію та згенерувати новий ідентифікатор сесії.

Сесії використовують просту технологію. Коли сесія створена, PHP або отримуватиме існуючу сесію, використовуючи переданий ідентифікатор (зазвичай із сесійного cookie) або, якщо нічого не передавалося, буде створена нова сесія. PHP заповнить суперглобальну змінну [SESSION](reserved.variables.session.md) сесійною інформацією після того, як буде запущено сесію. Коли PHP завершує роботу, він автоматично серіалізує вміст суперглобальної змінної [SESSION](reserved.variables.session.md) та відправить для збереження, використовуючи сесійний оброблювач для запису сесії.

За промовчанням PHP використовує внутрішній обробник `files` для збереження сесій, який встановлений в INI-змінній [session.savehandler](session.configuration.md#ini.session.save-handler). Цей обробник зберігає дані на сервері в директорії, вказаній у конфігураційній директиві [session.savepath](session.configuration.md#ini.session.save-path)

Сесії можуть запускатися вручну за допомогою функції [sessionstart()](function.session-start.md). Якщо директива [session.autostart](session.configuration.md#ini.session.auto-start) встановлена ​​в `1`, сесія автоматично запуститься на початку запиту.

Сесія зазвичай завершує свою роботу, коли PHP закінчує виконувати скрипт, але може бути завершена і вручну за допомогою функції [sessionwriteclose()](function.session-write-close.md)

**Приклад #1 Реєстрація змінної за допомогою [SESSION](reserved.variables.session.md)**

```php
<?php
session_start();
if (!isset($_SESSION['count'])) {
  $_SESSION['count'] = 0;
} else {
  $_SESSION['count']++;
}
?>
```

**Приклад #2 Скасування оголошення змінної за допомогою [SESSION](reserved.variables.session.md)**

```php
<?php
session_start();
unset($_SESSION['count']);
?>
```

**Застереження**

НЕ ОЧИЩАЙТЕ [SESSION](reserved.variables.session.md) повністю, використовуючи `unset($_SESSION)`, оскільки це відключить можливість реєстрації сесійних змінних через суперглобальну змінну [SESSION](reserved.variables.session.md)

**Увага**

Ви не можете використовувати посилання в сесійних змінних, тому що не існує реального способу відновлення посилання до іншої змінної.

> **Зауваження**
> 
> Сесії, які використовують файли (за замовчуванням у PHP), блокують файл сесії відразу при відкритті сесії функцією [sessionstart()](function.session-start.md) або опосередковано при вказівці [session.autostart](session.configuration.md#ini.session.auto-start). Після блокування, жодний інший скрипт не може отримати доступ до цього ж файлу сесії, доки він не буде закритий або при завершенні скрипту або виклику функції [sessionwriteclose()](function.session-write-close.md)
> 
> Швидше за все це стане проблемою для сайтів, які активно використовують AJAX та роблять кілька одночасних запитів. Найпростішим шляхом вирішити цю проблему буде виклик функції [sessionwriteclose()](function.session-write-close.md) відразу як тільки всі необхідні зміни в сесії будуть зроблені, переважно ближче до початку роботи скрипта. Також можна використовувати інший механізм сесії, що підтримує конкурентний доступ.
