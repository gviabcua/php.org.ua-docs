---
navigation:
  - pdo.errorinfo.md: '« PDO::errorInfo'
  - pdo.getattribute.md: 'PDO::getAttribute »'
  - index.md: PHP Manual
  - class.pdo.md: PDO
title: 'PDO::exec'
---
# PDO::exec

(PHP 5> = 5.1.0, PHP 7, PHP 8, PECL pdo> = 0.1.0)

PDO::exec — Виконує SQL-запит і повертає кількість порушених рядків

### Опис

```methodsynopsis
public PDO::exec(string $statement): int|false
```

**PDO::exec()** запускає SQL-запит виконання і повертає кількість рядків, задіяних під час виконання.

**PDO::exec()** не повертає результат вибірки оператором SELECT. Якщо вам потрібно вибрати дані цим оператором один раз під час виконання програми, скористайтеся методом [PDO::query()](pdo.query.md). Якщо потрібно запускати той самий запит на вибірку безліч разів, краще створити підготовлений запит PDOStatement методом [PDO::prepare()](pdo.prepare.md), а потім запускати його методом [PDOStatement::execute()](pdostatement.execute.md) стільки разів, скільки потрібно.

### Список параметрів

`statement`

SQL-вираз, який необхідно підготувати та запустити.

Дані всередині запиту мають бути [правильно екрановані](pdo.quote.md)

### Значення, що повертаються

**PDO::exec()** повертає кількість рядків, які були модифіковані чи видалені під час виконання. Якщо таких рядків немає, **PDO::exec()** поверне `0`

**Увага**

Ця функція може повертати як логічне значення \*\*`false`\*\*так і значення не типу boolean, яке наводиться до **`false`**. За більш детальною інформацією зверніться до розділу [Булев тип](language.types.boolean.md). Використовуйте [оператор ===](language.operators.comparison.md) для перевірки значення, яке повертається цією функцією.

У цьому прикладі розробник припустився помилки, покладаючись на результат, що повертається. **PDO::exec()**. В результаті, якщо запит відпрацював без помилок, але не модифікував жодного рядка, робота скрипта буде завершена функцією [die()](function.die.md)

```php
<?php
$db->exec() or die(print_r($db->errorInfo(), true)); // неправильно
?>
```

### Приклади

**Приклад #1 Виконання запиту DELETE**

Отримання кількості видалених записів запитом DELETE без умов WHERE.

```php
<?php
$dbh = new PDO('odbc:sample', 'db2inst1', 'ibmdb2');

/* Удаляем все записи из таблицы FRUIT */
$count = $dbh->exec("DELETE FROM fruit");

/* Получим количество удалённых записей */
print("Удалено $count строк.\n");
?>
```

Результат виконання цього прикладу:

```
Удалено 1 строк.
```

### Дивіться також

-   [PDO::prepare()](pdo.prepare.md) - готує запит до виконання та повертає пов'язаний із цим запитом об'єкт
-   [PDO::query()](pdo.query.md) - готує та виконує вираз SQL без заповнювачів
-   [PDOStatement::execute()](pdostatement.execute.md) - Запускає підготовлений запит на виконання
