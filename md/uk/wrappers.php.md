---
navigation:
  - wrappers.ftp.html: '« ftp://'
  - wrappers.compression.html: 'zlib:// »'
  - index.html: PHP Manual
  - wrappers.html: Підтримувані протоколи та обгортки
title: 'php://'
---
# php://

php:// — Доступ до різних потоків введення-виводу

### Опис

PHP надає кілька різноманітних потоків введення-виводу, які дозволяють отримати доступ до власних потоків введення-виводу PHP, до дескрипторів стандартного введення, виведення та потоку помилок, до тимчасових файлових потоків у пам'яті та на диску, та фільтрів, які можуть маніпулювати іншими файловими ресурсами у міру їхнього зчитування або запису.

#### php://stdin, php://stdout та php://stderr

php://stdin, php://stdout та php://stderr дозволяють отримати прямий доступ до відповідних потоків введення або виведення процесу PHP. Потік вказує на копію файлового дескриптора, так що якщо ви відкриєте php://stdin і потім закриєте його, ви закриєте тільки вашу копію дескриптора. Актуальний потік, на який посилається **`STDIN`**, залишається незмінним. Рекомендується просто використовувати константи **`STDIN`** **`STDOUT`** і **`STDERR`** замість ручного відкриття потоків, використовуючи ці обгортки.

Потік php://stdin призначений лише для читання, тоді як php://stdout та php://stderr призначені лише для запису.

#### php://input

php://input є потоком тільки для читання, який дозволяє читати необроблені дані з тіла запиту. php://input недоступний з типом вмісту `enctype="multipart/form-data"`

#### php://output

php://output є потоком тільки для запису, який дозволяє вам записати дані у вихідний буфер аналогічно, як це роблять функції [print](function.print.html) і [echo](function.echo.html)

#### php://fd

php://fd надає прямий доступ до вказаного файлового дескриптора. Наприклад, php://fd/3 відноситься до файлового дескриптора 3.

#### php://memory та php://temp

php://memory та php://temp є потоками для читання/запису і дозволяють зберігати тимчасові дані у файлоподібній обгортці. Єдина різниця між ними полягає в тому, що php://memory завжди зберігатиме дані в оперативній пам'яті, тоді як php://temp буде використовувати тимчасовий файл у тому випадку, коли обсяг інформації, що зберігається, досягне заданого ліміту (за замовчуванням 2 Мб) . Розташування цього тимчасового файлу визначається аналогічно функції [sysgettempdir()](function.sys-get-temp-dir.html)

Розмір ліміту для php://temp може встановлюватися шляхом додавання `/maxmemory:NN`, де `NN` - це максимальний розмір даних у байтах для зберігання пам'яті перед використанням тимчасового файла.

#### php://filter

php://filter - це вид мета-обгортки, призначений для вирішення застосування [фільтрів](filters.html) до потоку під час відкриття. Це корисно для функціонально повних файлових функцій, таких як [readfile()](function.readfile.html) [file()](function.file.html) і [filegetcontents()](function.file-get-contents.html)де немає можливості застосувати фільтр до потоку до того, як вміст буде прочитаний.

Потік php://filter приймає такі параметри як частину свого шляху. В одному шляху можна вказати кілька ланцюжків фільтрів. Будь ласка, ознайомтеся з прикладами та особливостями використання цих параметрів.

**Параметри для php://filter**

| Название | Описание |
| --- | --- |
| `resource=<поток для фильтрации>` | Цей параметр є необхідним. Він показує потоку, що його потрібно відфільтрувати. |
| `read=<список фильтров для применения к цепочке чтения>` | Цей параметр є необов'язковим. Одне або кілька імен фільтрів може бути вказано тут, розділених вертикальною межею (\` |
| `write=<список фильтров для применения к цепочке записи>` | Цей параметр є необов'язковим. Одне або кілька імен фільтрів може бути вказано тут, розділених вертикальною межею (\` |
| `<список фильтров для применения к обеим цепочкам чтения и записи>` | Будь-який список фільтрів, які використовуються без префіксів `read=` або `write=`, буде застосовано до обох потоків на читання та запис за необхідності. |

### Опції

**Основна інформація (для `php://filter` дивіться інформацію по обгортці, яка піддається фільтрації)**

| Атрибут | Поддержка |
| --- | --- |
| Обмеження по [allowurlfopen](filesystem.configuration.html#ini.allow-url-fopen) | Ні |
| Обмеження по [allowurlinclude](filesystem.configuration.html#ini.allow-url-include) | тільки `php://input` `php://stdin` `php://memory` і `php://temp` |
| Читання | тільки `php://stdin` `php://input` `php://fd` `php://memory` і `php://temp` |
| Запис | тільки `php://stdout` `php://stderr` `php://output` `php://fd` `php://memory` і `php://temp` |
| Додавання | тільки `php://stdout` `php://stderr` `php://output` `php://fd` `php://memory` і `php://temp`. (еквівалентно запису) |
| Одночасне читання та запис | тільки `php://fd` `php://memory` і `php://temp` |
| Підтримка [stat()](function.stat.html) | ні. Проте, `php://memory` і `php://temp` підтримують [fstat()](function.fstat.html) |
| Підтримка [unlink()](function.unlink.html) | Ні |
| Підтримка [rename()](function.rename.html) | Ні |
| Підтримка [mkdir()](function.mkdir.html) | Ні |
| Підтримка [rmdir()](function.rmdir.html) | Ні |
| Підтримка [streamselect()](function.stream-select.html) | тільки `php://stdin` `php://stdout` `php://stderr` `php://fd` і `php://temp` |

### Приклади

**Приклад #1 php://temp/maxmemory**

Цей необов'язковий параметр дозволяє встановити ліміт пам'яті, перш ніж php://temp почне використовувати тимчасовий файл.

```php
<?php
// Установка предела в 5 MB.
$fiveMBs = 5 * 1024 * 1024;
$fp = fopen("php://temp/maxmemory:$fiveMBs", 'r+');

fputs($fp, "hello\n");

// Читаем то, что мы записали.
rewind($fp);
echo stream_get_contents($fp);
?>
```

**Приклад #2 php://filter/resource=<потік для фільтрації>**

Цей параметр має бути розташований наприкінці вашої специфікації php://filter і повинен вказувати на потік, який ви хочете фільтрувати.

```php
<?php
/* Это просто эквивалентно:
  readfile("http://www.example.com");
  так как на самом деле фильтры не указаны */

readfile("php://filter/resource=http://www.example.com");
?>
```

**Приклад #3 php://filter/read=<список фільтрів для застосування до ланцюжка читання>**

Цей параметр приймає один або більше імен фільтрів, розділених вертикальною рисою `|`

```php
<?php
/* Этот скрипт выведет содержимое
  www.example.com полностью в верхнем регистре */
readfile("php://filter/read=string.toupper/resource=http://www.example.com");

/* Этот скрипт делает тоже самое, что вверхний, но
  будет также кодировать алгоритмом ROT13 */
readfile("php://filter/read=string.toupper|string.rot13/resource=http://www.example.com");
?>
```

**Приклад #4 php://filter/write=<список фільтрів для застосування до ланцюжка запису>**

Цей параметр приймає один або більше імен фільтрів, розділених вертикальною рисою `|`

```php
<?php
/* Этот скрипт будет фильтровать строку "Hello World"
  через фильтр rot13, затем записывать результат в
  файл example.txt в текущей директории */
file_put_contents("php://filter/write=string.rot13/resource=example.txt","Hello World");
?>
```

**Приклад #5 php://memory та php://temp не можна перевикористовувати**

php://memory та php://temp не можна перевикористовувати, тобто після закриття потоків неможливо послатися на них знову.

```php
file_put_contents('php://memory', 'PHP');
echo file_get_contents('php://memory'); // ничего не напечатает
```
