---
navigation:
  - context.md: « Контекстні опції та параметри
  - context.http.md: Опции контекста HTTP »
  - index.md: PHP Manual
  - context.md: Контекстні опції та параметри
title: Контекстні опції сокету
---
# Контекстні опції сокету

Контекстні опції сокету - Список контекстних опцій сокету

### Опис

Контекстні опції доступні для всіх обгорток, які працюють через сокети, такі як `tcp` `http` і `ftp`

### Опції

`bindto`

Використовується для вказівки IP-адреси (IPv4 або IPv6) таабо номери порту, які PHP використовуватиме для підключення до мережі. Синтаксис виглядає так: `ip:port` для адреси IPv4, та `[ip]:port` для IPv6. Встановлення IP таабо порту в `0` дозволить системі самій вибрати потрібний IP тачи порт.

> **Зауваження**
> 
> Оскільки під час звичайної роботи FTP створює 2 з'єднання з сокетами, номер порту не може бути заданий за допомогою цієї опції.

`backlog`

Використовується для обмеження вихідних з'єднань у черзі з'єднань сокету.

> **Зауваження**
> 
> Використовується тільки для [streamsocketserver()](function.stream-socket-server.md)

`ipv6_v6only`

Перевизначає значення стандартної ОС для відображення IPv4 в IPv6.

> **Зауваження**
> 
> Це важливо у разі спроби окремо слухати IPv4 адреси, у той час як задана прив'язка до `[::]`
> 
> Застосовується тільки до [streamsocketserver()](function.stream-socket-server.md)

`so_reuseport`

Дозволяє множинну прив'язку до однієї і тієї ж пари IP:порт, навіть із різних процесів.

> **Зауваження**
> 
> Застосовується тільки до [streamsocketserver()](function.stream-socket-server.md)

`so_broadcast`

Дозволяє надсилати та приймати дані у/від широкомовних адрес.

> **Зауваження**
> 
> Застосовується тільки до [streamsocketserver()](function.stream-socket-server.md)

`tcp_nodelay`

Встановлення цієї опції в **`true`** зробить `SOL_TCP,NO_DELAY=1` відповідно, таким чином відключення алгоритму TCP Nagle.

### список змін

| Версия | Описание |
| --- | --- |
|  | Додано `tcp_nodelay` |
|  | Додано `ipv6_v6only` |

### Приклади

**Приклад #1 Приклад використання `bindto`**

```php
<?php
// Соединение с сетью, используя IP '192.168.0.100'
$opts = array(
    'socket' => array(
        'bindto' => '192.168.0.100:0',
    ),
);


// Соединение с сетью, используя IP '192.168.0.100' и порт '7000'
$opts = array(
    'socket' => array(
        'bindto' => '192.168.0.100:7000',
    ),
);


// Соединение с сетью, используя IPv6 адрес '2001:db8::1'
// и порт '7000'
$opts = array(
    'socket' => array(
        'bindto' => '[2001:db8::1]:7000',
    ),
);


// Соединение с сетью через порт '7000'
$opts = array(
    'socket' => array(
        'bindto' => '0:7000',
    ),
);


// Создаём контекст...
$context = stream_context_create($opts);

// ...и используем его для получения данных
echo file_get_contents('http://www.example.com', false, $context);

?>
```
