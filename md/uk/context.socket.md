---
navigation:
  - context.md: « Контекстні опції та параметри
  - context.http.md: Опції контексту HTTP »
  - index.md: PHP Manual
  - context.md: Контекстні опції та параметри
title: Контекстні опції сокету
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
# Контекстні опції сокету

Контекстні опції сокету - Список контекстних опцій сокету

### Опис

Контекстні опції доступні для всіх обгорток, які працюють через сокети, такі як `tcp` `http`и`ftp`

### Опції

`bindto`

Використовується для вказівки IP-адреси (IPv4 або IPv6) та\\або номери порту, які PHP використовуватиме для підключення до мережі. Синтаксис виглядає так: `ip:port`для адреса IPv4, и`[ip]:port`для адреса IPv6. Установка IP и\\или порта в дозволить системі самій вибрати потрібний IP та\\чи порт.

> **Зауваження** :
> 
> Оскільки під час звичайної роботи FTP створює 2 з'єднання з сокетами, номер порту не може бути заданий за допомогою цієї опції.

`backlog`

Використовується для обмеження вихідних з'єднань у черзі з'єднань сокету.

> **Зауваження** :
> 
> Використовується тільки для [stream\_socket\_server()](function.stream-socket-server.md)

`ipv6_v6only`

Перевизначає значення стандартної ОС для відображення IPv4 в IPv6.

> **Зауваження** :
> 
> Це важливо у разі спроби окремо слухати IPv4 адреси, у той час як задана прив'язка до `[::]`
> 
> Застосовується тільки до [stream\_socket\_server()](function.stream-socket-server.md)

`so_reuseport`

Дозволяє множинну прив'язку до однієї і тієї ж пари IP:порт, навіть із різних процесів.

> **Зауваження** :
> 
> Застосовується тільки до [stream\_socket\_server()](function.stream-socket-server.md)

`so_broadcast`

Дозволяє посилати та приймати дані у/від широкомовних адрес.

> **Зауваження** :
> 
> Застосовується тільки до [stream\_socket\_server()](function.stream-socket-server.md)

`tcp_nodelay`

Встановлення цієї опції в **`true`** зробить `SOL_TCP,NO_DELAY=1`соответственно, таким образом, отключение алгоритма TCP Nagle.

### список змін

| Версия | Опис |
| --- | --- |
| 7.1.0 | Добавлено`tcp_nodelay` |
| 7.0.1 | Добавлено`ipv6_v6only` |

### Приклади

**Приклад #1 Приклад использования`bindto`**

```php
<?php
// Соединение с сетью, используя IP '192.168.0.100'
$opts = array(
    'socket' => array(
        'bindto' => '192.168.0.100:0',
    ),
);


// Соединение с сетью, используя IP '192.168.0.100' и порт '7000'
$opts = array(
    'socket' => array(
        'bindto' => '192.168.0.100:7000',
    ),
);


// Соединение с сетью, используя IPv6 адрес '2001:db8::1'
// и порт '7000'
$opts = array(
    'socket' => array(
        'bindto' => '[2001:db8::1]:7000',
    ),
);


// Соединение с сетью через порт '7000'
$opts = array(
    'socket' => array(
        'bindto' => '0:7000',
    ),
);


// Создаём контекст...
$context = stream_context_create($opts);

// ...и используем его для получения данных
echo file_get_contents('http://www.example.com', false, $context);

?>
```
