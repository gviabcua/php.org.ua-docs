Збирає посилання на виконані завдання

-   [« Pool](class.pool.html)
    
-   [Pool::construct »](pool.construct.html)
    
-   [PHP Manual](index.html)
    
-   [Pool](class.pool.html)
    
-   Збирає посилання на виконані завдання
    

# Pool::collect

(PECL pthreads >= 2.0.0)

Pool::collect — Збирає посилання на виконані завдання

### Опис

```methodsynopsis
public Pool::collect(Callable $collector = ?): int
```

Дозволяє пулу збирати посилання, визначені як сміття додатковим збирачем.

### Список параметрів

`collector`

Callback - функція збирача, яка повертає логічне значення, що вказує, чи може бути завдання зібрано чи ні. Тільки в окремих випадках може знадобитися спеціальний збирач.

### Значення, що повертаються

Кількість завдань, що залишилися в пулі, які потрібно зібрати.

### список змін

| Версия | Описание                                                                    |
|--------|-----------------------------------------------------------------------------|
| вз     | Тепер повертається ціле число, а параметр `collector` тепер необов'язковий. |

### Приклади

**Приклад #1 Простий приклад використання **Pool::collect()****

```php
<?php
$pool = new Pool(4);

for ($i = 0; $i < 15; ++$i) {
    $pool->submit(new class extends Threaded {});
}

while ($pool->collect()); // до тех пор, пока все задачи не закончат выполнение

$pool->shutdown();
```