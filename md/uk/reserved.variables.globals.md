Посилання на всі змінні глобальної області видимості

-   [« Суперглобальные переменные](language.variables.superglobals.html)
    
-   [SERVER »](reserved.variables.server.html)
    
-   [PHP Manual](index.html)
    
-   [Предопределённые переменные](reserved.variables.html)
    
-   Посилання на всі змінні глобальної області видимості
    

# $GLOBALS

(PHP 4, PHP 5, PHP 7, PHP 8)

$GLOBALS — Посилання на всі змінні глобальної області видимості

### Опис

Асоціативний масив (array), що містить посилання на всі змінні, визначені зараз у світовій області видимості скрипта. Імена змінних є ключами масиву.

### Приклади

**Приклад #1 Приклад використання $GLOBALS**

```php
<?php
function test() {
    $foo = "локальная переменная";

    echo '$foo в глобальной области видимости: ' . $GLOBALS["foo"] . "\n";
    echo '$foo в текущей области видимости: ' . $foo . "\n";
}

$foo = "Пример содержимого";
test();
?>
```

Результатом виконання цього прикладу буде щось подібне:

```
$foo в глобальной области видимости: Пример содержимого
$foo в текущей области видимости: локальная переменная
```

**Увага**

Починаючи з PHP 8.1.0, доступ до запису до всього масиву $GLOBALS більше не підтримується:

**Приклад #2 запис всього $GLOBALS призведе до помилки**

```php
<?php
 // Генерирует ошибку во время компиляции:
 $GLOBALS = [];
 $GLOBALS += [];
 $GLOBALS =& $x;
 $x =& $GLOBALS;
 unset($GLOBALS);
 array_pop($GLOBALS);
 // ...и любые другие операции записи/чтения-записи в $GLOBALS
 ?>
```

### Примітки

> **Зауваження**
> 
> Це 'суперглобальна' або автоматична глобальна змінна. Це просто означає, що вона доступна у всіх контекстах скрипту. Немає необхідності виконувати **global $variable;** для доступу до неї всередині методу чи функції.

> **Зауваження** **Доступність змінної**
> 
> На відміну від решти [суперглобальных](language.variables.superglobals.html) змінних, $GLOBALS завжди доступна в PHP.

> **Зауваження**
> 
> Починаючи з PHP 8.1.0, масив $GLOBALS є доступною тільки для читання копією глобальної таблиці символів. Тобто, глобальні змінні не можуть бути змінені за допомогою його копії. Раніше масив $GLOBALS виключався зі звичайної поведінки масивів PHP за значенням і глобальні змінні можна змінити за допомогою його копії.
> 
> ```php
> <?php
> // До PHP 8.1.0
> $a = 1;
> $globals = $GLOBALS; // Как будто бы по значению копии
> $globals['a'] = 2;
> var_dump($a); // int(2)
> 
> // Начиная с PHP 8.1.0
> // больше не изменяет значение $a. Предыдущее поведение нарушало семантику по значению
> $globals = $GLOBALS;
> $globals['a'] = 1;
> 
> // Чтобы восстановить предыдущее поведение, повторите его копию и присвойте каждому свойству значение $ GLOBALS.
> foreach ($globals as $key => $value) {
>     $GLOBALS[$key] = $value;
> }
> ?>
> ```