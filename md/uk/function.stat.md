---
navigation:
  - function.set-file-buffer.html: « setfilebuffer
  - function.symlink.md: symlink »
  - index.md: PHP Manual
  - ref.filesystem.md: Функції файлової системи
title: стати
---
# стати

(PHP 4, PHP 5, PHP 7, PHP 8)

stat — Повертає інформацію про файл

### Опис

```methodsynopsis
stat(string $filename): array|false
```

Збирає статистичну інформацію про файл `filename`. Якщо `filename` є символічним посиланням, інформація збирається про сам файл, а не посилання. До PHP 7.4.0 у Windows NTS у цьому випадку будував статистику `size` `atime` `mtime` і `ctime` із символьного посилання.

Функція [lstat()](function.lstat.md) ідентична функції **стати()** за винятком того, що в даному випадку вона поверне інформацію про символічне посилання.

### Список параметрів

`filename`

Шлях до файлу.

### Значення, що повертаються

**Формат результату роботи функцій **стати()** і [fstat()](function.fstat.md)**

| Числовой | Ассоциативный | Описание |
| --- | --- | --- |
|  | dev | номер пристрою |
|  | ino | номер inode |
|  | mode | режим захисту inode |
|  | nlink | кількість посилань |
|  | uid | userid власника |
|  | gid | groupid власника |
|  | rdev | тип пристрою, якщо пристрій inode |
|  | size | розмір у байтах |
|  | atime | час останнього доступу (тимчасова мітка Unix) |
|  | mtime | час останньої модифікації (тимчасова мітка Unix) |
|  | ctime | час останньої зміни inode (тимчасова мітка Unix) |
|  | blksize | розмір блоку введення-виведення файлової системи |
|  | blocks | кількість використовуваних 512-байтних блоків |

У Windows це завжди буде `0`

Доступний лише на системах, які підтримують тип stblksize - інші системи (наприклад, Windows) повернуть `-1`

У Windows, починаючи з PHP 7.4.0, це серійний номер тома, що містить файл, який є 64-розрядним цілим числом *без знаку*тому може переповнитися в 32-розрядних системах. Раніше це було числове подання букви диска (наприклад, `2` для `C:`) для **стати()** і `0` для [lstat()](function.lstat.md)

У Windows, починаючи з PHP 7.4.0, ідентифікатор, пов'язаний з файлом, який є 64-розрядним цілим числом *без знаку*може переповнитися в 32-розрядних системах. Раніше він завжди був `0`

У Windows біт дозволу на запис встановлюється відповідно до атрибута файлу тільки для читання, те саме значення повідомляється для всіх користувачів, групи і власника. ACL не враховується, на відміну від [ісwritable()](function.is-writable.md)

Значення `mode` містить інформацію, що читається кількома функціями. При записі у вісімковому вигляді, починаючи праворуч, перші три цифри повертаються функцією [chmod()](function.chmod.md). Наступна цифра ігнорується PHP. Наступні дві цифри вказують тип файлу:

**`mode` типів файлів**

| `mode` в восьмеричном виде | Значение |
| --- | --- |
| **`0140000`** | сокет |
| **`0120000`** | символічне посилання |
| **`0100000`** | звичайний файл |
| **`0060000`** | блоковий пристрій |
| **`0040000`** | директорія |
| **`0020000`** | символьний пристрій |
| **`0010000`** | fifo |

Так, наприклад, звичайний файл може бути **`0100644`**, а директорія може бути **`0040755`**

У разі виникнення помилки **стати()** повертає **`false`**

> **Зауваження**: Так як тип integer в PHP є цілим числом зі знаком, і багато платформ використовують 32-бітові цілі числа, то деякі функції файлових систем можуть повертати несподівані результати для файлів розміром більше 2 Гб.

### Помилки

У разі виникнення помилки буде згенеровано помилку рівня **`E_WARNING`**

### список змін

| Версия | Описание |
| --- | --- |
|  | У Windows номер пристрою тепер є серійним номером тома, що містить файл і номер inode - це ідентифікатор, пов'язаний із файлом. |
|  | Статистика символьних посилань `size` `atime` `mtime` і `ctime` завжди відповідає статистиці цільового об'єкта. Це було раніше не характерно для NTSзбирання на Windows. |

### Приклади

**Приклад #1 Приклад використання **стати()****

```php
<?php
/* Получаем статистику файла */
$stat = stat('C:\php\php.exe');

/*
 * Выводим последнее время доступа к файлу, это то же самое, что и
 * вызов fileatime()
 */
echo 'Последнее время доступа: ' . $stat['atime'];

/*
 * Выводим время изменения файла, это то же самое, что и
 * вызов filemtime()
 */
echo 'Время изменения: ' . $stat['mtime'];

/* Выводим номер устройства */
echo 'Номер устройства: ' . $stat['dev'];
?>
```

**Приклад #2 Використання інформації з **стати()** разом з [touch()](function.touch.md)**

```php
<?php
/* Получаем статистику файла */
$stat = stat('C:\php\php.exe');

/* Удалось получить эту статистику? */
if (!$stat) {
    echo 'вызов stat() не удался...';
} else {
    /*
     * Мы хотим увеличить время последнего доступа к файлу
     * на 1 неделю вперёд.
     */
    $atime = $stat['atime'] + 604800;

    /* Касаемся файла */
    if (!touch('some_file.txt', time(), $atime)) {
        echo 'Не удалось коснуться файла...';
    } else {
        echo 'touch() выполнился успешно...';
    }
}
?>
```

### Примітки

> **Зауваження**
> 
> Зверніть увагу, що обробка часу може відрізнятися в різних файлових системах.

> **Зауваження**: Результати цієї функції кешуються Більш детальну інформацію дивіться у розділі [clearstatcache()](function.clearstatcache.md)

**Підказка**

Починаючи з PHP 5.0.0, ця функція також може бути використана з *деякими* обгортками url. Список обгорток, що підтримуються сімейством функцій **стати()**, дивіться у розділі [Підтримувані протоколи та обгортки](wrappers.md)

### Дивіться також

-   [lstat()](function.lstat.md) - Повертає інформацію про файл або символічне посилання
-   [fstat()](function.fstat.md) - Отримує інформацію про файл, використовуючи відкритий файловий покажчик
-   [filemtime()](function.filemtime.md) - Повертає час останньої зміни файлу
-   [filegroup()](function.filegroup.md) - Отримує ідентифікатор групи файлу
-   [SplFileInfo](class.splfileinfo.md)
