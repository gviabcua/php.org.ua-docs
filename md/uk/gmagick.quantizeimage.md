Аналізує кольори еталонного зображення

-   [« Gmagick::profileimage](gmagick.profileimage.md)
    
-   [Gmagick::quantizeimages »](gmagick.quantizeimages.md)
    
-   [PHP Manual](index.md)
    
-   [Gmagick](class.gmagick.md)
    
-   Аналізує кольори еталонного зображення
    

# Gmagick::quantizeimage

(PECL gmagick >= Unknown)

Gmagick::quantizeimage — Аналізує кольори еталонного зображення

### Опис

```methodsynopsis
public Gmagick::quantizeimage(    int $numColors,    int $colorspace,    int $treeDepth,    bool $dither,    bool $measureError): Gmagick
```

Аналізує кольори в еталонному зображенні та вибирає фіксовану кількість кольорів для представлення зображення. Метою алгоритму є мінімізація різниці у кольорі між вхідним та вихідним зображенням при мінімізації часу обробки.

### Список параметрів

`numColors`

Кількість кольорів.

`colorspace`

Колірний простір, в якому зменшиться колір, зазвичай RGB.

`treeDepth`

Зазвичай це значення дорівнює нулю чи одиниці. Нуль або одиниця вказує Quantize вибрати оптимальну глибину дерева Log4(numbercolors). Дерево цієї глибини зазвичай забезпечує найкраще уявлення еталонного зображення з найменшим обсягом пам'яті та максимальною швидкістю обчислень. У деяких випадках, наприклад для зображення з низькою колірною дисперсією (кілька кольорів), потрібне значення, відмінне від Log4(numbercolors). Щоб повністю розгорнути дерево кольорів, використовуйте 8.

`dither`

Значення, відмінне від нуля, розподіляє різницю між вихідним зображенням та відповідним алгоритмом зменшення кольору на сусідні пікселі вздовж кривої Гільберта.

`measureError`

Значення, відмінне від нуля, вимірює різницю між вихідним та квантованим зображеннями. Ця різниця становить повну помилку квантування. Помилка обчислюється шляхом підсумовування всіх пікселів зображення квадрата відстані в просторі RGB між значенням кожного еталонного пікселя і його квантованим значенням.

### Значення, що повертаються

Об'єкт [Gmagick](class.gmagick.md) у разі успішного виконання.

### Помилки

Викликає **GmagickException** у разі виникнення помилки.