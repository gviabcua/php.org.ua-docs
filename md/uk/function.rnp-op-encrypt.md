---
navigation:
  - function.rnp-locate-key.md: « rnp\_locate\_key
  - function.rnp-op-generate-key.md: rnp\_op\_generate\_key »
  - index.md: PHP Manual
  - ref.rnp.md: Функції Rnp
title: rnp\_op\_encrypt
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
# rnp\_op\_encrypt

(PECL rnp >= 0.1.1)

rnp\_op\_encrypt — Шифрує повідомлення

### Опис

```methodsynopsis
rnp_op_encrypt(    RnpFFI $ffi,    string $message,    array $recipient_keys_fp,    array $options = ?): string|false
```

### Список параметрів

`ffi`

Об'єкт FFI, що повертається функцією rnp\_ffi\_create.

`message`

Повідомлення, яке потрібно зашифрувати.

`recipient_keys_fp`

Масив із відбитками ключів одержувача. Повинен бути хоча б один ключ.

`options`

Асоціативний масив із опціями.

| Ключ | Тип данных | Опис |
| --- | --- | --- |
| `"compression_alg"` | string | Алгоритм стиснення. Для увімкнення стиснення даних повинні бути задані як `"compression_alg"`, так и`"compression_level"` |
| `"compression_level"` | integer | Рівень стиснення 0-9. 0 вимикає стиск. |
| `"armor"` | boolean | Включає ASCII-захищений висновок. За замовчуванням вимкнено. |
| `"add_signature"` | boolean | Зашифроване повідомлення також буде підписано. |
| `"hash"` | string | Встановлює хеш-алгоритм, який використовується під час обчислення підпису. Опції "add\_signature" має бути встановлене значення **`true`** |
| `"creation_time"` | integer | Встановлює час створення підпису в секундах з 1 січня 1970 року за Грінвічем. За промовчанням використовується поточний час. |
| `"expiration_time"` | integer | Встановлює час закінчення терміну дії підпису за секунди з моменту створення. Значення 0 використовується для позначки підпису як не закінчується (за замовчуванням). |
| `"password"` | string | Додає пароль, який використовується для шифрування даних. |
| `"cipher"` | string | Встановлює алгоритм симетричного шифрування. Можливі значення: "IDEA", "TRIPLEDES", "CAST5", "BLOWFISH", "AES128", "AES192", "AES256", "TWOFISH", "CAMELLIA128", "CAMELLIA192", "CAMELLIA256", "SM4" . |
| `"aead"` | string | Встановлює алгоритм режиму AEAD. Можливі значення: "None" для вимкнення AEAD, "EAX", "OCB". |
| `"aead_bits"` | integer | Встановлює довжину комірки режиму AEAD через кількість бітів розміру комірки. Має бути від 0 до 56. |
| `"flags"` | integer | Встановлює додаткові прапори шифрування. Підтримувані прапори: RNP\_ENCRYPT\_NOWRAP - не загортати дані до літерального пакету даних. Це дозволить шифрувати вже підписані дані. |
| `"file_name"` | string | Встановлює внутрішнє ім'я файлу для даних, що шифруються. Спеціальне значення \_CONSOLE може використовуватися для позначення повідомлення як "тільки для очей", тобто. воно не повинно ніде зберігатися, а лише відображатись одержувачу. За промовчанням використовується порожній рядок. |
| `"file_mtime"` | integer | Встановлює дату модифікації вхідного файлу в секундах з 1 січня 1970 по Гринвічу. |

### Значення, що повертаються

Зашифровані дані у разі успішного виконання або \*\*`false`\*\*в случае возникновения ошибки.
