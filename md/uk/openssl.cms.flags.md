Прапори/Константи CMS

-   [« Флаги/константы PKCS7](openssl.pkcs7.flags.html)
    
-   [Алгоритмы подписи »](openssl.signature-algos.html)
    
-   [PHP Manual](index.html)
    
-   [Предопределённые константы](openssl.constants.html)
    
-   Прапори/Константи CMS
    

## Прапори/Константи CMS

Функції CMS використовують прапори, які задаються за допомогою бітового поля, яке може включати одне або кілька таких значень:

**Константи CMS**

| Константа                  | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **`OPENSSL_CMS_TEXT`**     | Додає заголовки content-type text/plain у зашифроване/підписане повідомлення. При розшифровці або перевірці ці заголовки видаляються з висновку - якщо розшифроване або перевірене повідомлення не відноситься до MIME типу text/plain, відбудеться помилка.                                                                                                                                                                                                              |
| **`OPENSSL_CMS_BINARY`**   | Зазвичай вхідне повідомлення перетворюється на "канонічний" формат, який ефективно використовує `CR` і `LF` як кінець рядка: як потрібно специфікацією CMS. Коли є ця опція, переклад не виконується. Це корисно при обробці бінарних даних, які можуть бути не у форматі CMS.                                                                                                                                                                                            |
| **`OPENSSL_CMS_NOINTERN`** | При перевірці повідомлення сертифікати (якщо є), включені до повідомлення, зазвичай перевіряються на наявність сертифіката підпису. З цією опцією використовуються лише сертифікати, зазначені у параметрі `untrusted_certificates_filename` в [openssl\_cms\_verify()](function.openssl-cms-verify.html). Однак сертифікати можна використовувати як ненадійні центри сертифікації.                                                                                      |
| **`OPENSSL_CMS_NOVERIFY`** | Не перевіряти сертифікат підписаного підписаного повідомлення.                                                                                                                                                                                                                                                                                                                                                                                                            |
| **`OPENSSL_CMS_NOCERTS`**  | При підписанні повідомлення сертифікат сторони, що підписує, зазвичай включається - з цією опцією він виключається. Це зменшить розмір підписаного повідомлення, але у перевіряючого має бути копія сертифіката підписала доступна локально (наприклад, передана за допомогою `untrusted_certificates_filename` в [openssl\_cms\_verify()](function.openssl-cms-verify.html)                                                                                              |
| **`OPENSSL_CMS_NOATTR`**   | Зазвичай під час підписання повідомлення включається набір атрибутів, який включає час підпису та підтримувані симетричні алгоритми. З цією опцією вони не включені.                                                                                                                                                                                                                                                                                                      |
| **`OPENSSL_CMS_DETACHED`** | Під час підписання повідомлення використовуйте підпис відкритим текстом із MIME-типом `"multipart/signed"`. Це значення за замовчуванням, якщо ви не вкажете жодних `flags` для [openssl\_cms\_sign()](function.openssl-cms-sign.html). Якщо ви вимкнете цю опцію, повідомлення буде підписано з використанням непрозорого підпису, який більш стійкий до перекладу поштовими ретрансляторами, але не може бути прочитаний поштовими агентами, які не підтримують S/MIME. |
| **`OPENSSL_CMS_NOSIGS`**   | Не намагатись перевіряти підписи у повідомленні                                                                                                                                                                                                                                                                                                                                                                                                                           |