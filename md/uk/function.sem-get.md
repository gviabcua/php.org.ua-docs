Отримання ідентифікатора семафору

-   [« semacquire](function.sem-acquire.html)
    
-   [semrelease »](function.sem-release.html)
    
-   [PHP Manual](index.html)
    
-   [Функції семафорів](ref.sem.html)
    
-   Отримання ідентифікатора семафору
    

# semget

(PHP 4, PHP 5, PHP 7, PHP 8)

semget — Отримання ідентифікатора семафору

### Опис

```methodsynopsis
sem_get(    int $key,    int $max_acquire = 1,    int $permissions = 0666,    bool $auto_release = true): SysvSemaphore|false
```

**semget()** повертає ідентифікатор, який може бути використаний для доступу до семафору System V за заданим значенням `key`

Наступні дзвінки **semget()** для того ж ключа повертатимуть інші ідентифікатори, проте всі вони будуть посилатися на один і той же семафор.

Якщо `key` дорівнює `0`, то для кожного виклику **semget()** створюється новий приватний семафор.

### Список параметрів

`key`

`max_acquire`

Число процесів, які можуть одночасно використовувати семафор задається через `max_acquire`

`permissions`

Права доступу до семафору. Насправді, встановлюється лише якщо процес є єдиним, хто використовує семафор.

`auto_release`

Визначає, чи семафор повинен автоматично звільнятися при завершенні роботи.

### Значення, що повертаються

При успішному завершенні повертається позитивний ідентифікатор семафору, або **`false`** у разі виникнення помилки.

### список змін

| Версия | Описание |
| --- | --- |
|  | У разі успішного виконання функція повертає екземпляр [SysvSemaphore](class.sysvsemaphore.html); раніше повертався ресурс (resource). |
|  | Тип `auto_release` змінено з цілого числа (int) на логічне значення (bool). |

### Примітки

**Увага**

Коли **semget()** використовується для доступу до семафору, створеного поза PHP, зверніть увагу на те, що цей семафор повинен бути створений як набір з трьох семафорів (наприклад, шляхом вказівки 3 як параметр `nsems` під час виклику C-функції `semget()`), інакше, PHP не зможе звернутися до семафору.

### Дивіться також

-   [semacquire()](function.sem-acquire.html) - Захоплення семафору
-   [semrelease()](function.sem-release.html) - Звільнення семафору
-   [ftok()](function.ftok.html) - Перетворення шляху та ідентифікатора проекту на ключ System V IPC