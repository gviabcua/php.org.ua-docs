Готує з'єднання із сервером Z39.50

-   [« yazclose](function.yaz-close.html)
    
-   [yazdatabase »](function.yaz-database.html)
    
-   [PHP Manual](index.html)
    
-   [Функции YAZ](ref.yaz.html)
    
-   Готує з'єднання із сервером Z39.50
    

# yazconnect

(PHP 4> = 4.0.1, PECL yaz> = 0.9.0)

yazconnect — Підготовка підключення до сервера Z39.50

### Опис

```methodsynopsis
yaz_connect(string $zurl, mixed $options = ?): mixed
```

Функція повертає дескриптор з'єднання у разі успішного виконання та нуль у разі виникнення помилки.

**yazconnect()** готує з'єднання із сервером Z39.50. Функція не блокує і не намагається встановити з'єднання, а лише готує з'єднання для подальшого виконання функцією [yazwait()](function.yaz-wait.html)

> **Зауваження**
> 
> [» YAZ proxy](http://www.indexdata.dk/yazproxy/) безкоштовно доступний агент Z39.50

### Список параметрів

`zurl`

Рядок, що набуває форми `host[:port][/database]`. Якщо порт опущено, то за замовчуванням використовується 210 портів. Якщо назва бази даних опущена, використовується база з ім'ям `Default`

`options`

Якщо задається рядок, він розглядається як рядок аутентифікації Z39.50 V2 (OpenAuth).

Якщо заданий масив, то вміст масиву виступає як параметри.

user

Ім'я користувача для автентифікації.

group

Назва групи для автентифікації.

password

Пароль для автентифікації.

cookie

Cookie для сесії (YAZ proxy).

proxy

Проксі для підключення (YAZ proxy).

persistent

Має логічний тип. Якщо приймає **`true`** - з'єднання постійне, якщо **`false`** - Непостійне з'єднання. За промовчанням з'єднання постійне.

> **Зауваження**
> 
> Якщо ви відкрили постійне з'єднання, ви не зможете закрити його пізніше за допомогою [yazclose()](function.yaz-close.html)

piggyback

Має логічний тип. Якщо приймає **`true`**, Режим передачі прямих і зворотних пакетів включений; якщо **`false`**, то цей режим вимкнено. За промовчанням увімкнено режим передачі прямих і зворотних пакетів.

Увімкнення режиму передачі прямих і зворотних пакетів є більш ефективним і зазвичай знижує навантаження в мережі для вперше вибраних записів. Однак деякі сервери Z39.50 не підтримують режим прямих та зворотних пакетів або ігнорують це налаштування. Для них цей режим має бути вимкнений.

charset

Рядок, що визначає кодування, що використовується в Z39.50 і при передачі даних. Можливі такі значення як: `ISO-8859-1` `UTF-8` `UTF-16`

Більшість серверів Z39.50 не підтримують це налаштування (і таким чином воно ігнорується). Багато серверів використовують кодування ISO-8859-1 для запитів та повідомлень. Кодування записів у форматах MARC21/USMARC не торкаються цієї опції.

preferredMessageSize

Цілочисленний параметр, що визначає максимальний розмір всіх записів, що повертаються сервером під час пошуку, в байтах. Для більш детальної інформації дивіться стандарт [» Z39.50](http://www.loc.gov/z3950/agency/markup/04.html#3.2.1.1.4)

> **Зауваження**
> 
> Опція підтримується у версії PECL YAZ 1.0.5 та пізніших.

maximumRecordSize

Цілочисленний параметр, що визначає максимальну кількість байт в окремому записі, що повертається сервером у результаті пошуку. Цей параметр відноситься до Exceptional-record-size у стандарті [» Z39.50](http://www.loc.gov/z3950/agency/markup/04.html#3.2.1.1.4)

> **Зауваження**
> 
> Опція підтримується у версії PECL YAZ 1.0.5 та пізніших.

### Значення, що повертаються

Дескриптор з'єднання у разі успішного виконання або **`false`** у разі виникнення помилки.

### список змін

| Версия | Описание                       |
|--------|--------------------------------|
|        | Було додано параметр `options` |

### Дивіться також

-   [yazclose()](function.yaz-close.html) - Закриває з'єднання YAZ