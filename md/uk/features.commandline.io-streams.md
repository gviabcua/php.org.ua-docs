Потоки введення/виводу

-   [« Использование](features.commandline.usage.md)
    
-   [Інтерактивна консоль.](features.commandline.interactive.md)
    
-   [PHP Manual](index.md)
    
-   [Використання PHP у командному рядку](features.commandline.md)
    
-   Потоки введення/виводу
    

## Потоки введення/виводу

Модуль CLI SAPI визначає кілька констант для потоків введення/виводу, щоб спростити роботу з командним рядком.

**Константи, специфічні для модуля CLI**

| Константа                                                                                           | Описание |
|-----------------------------------------------------------------------------------------------------|----------|
| **`STDIN`**                                                                                         |          |
| Вже відкритий потік введення`stdin`). Це запобігає необхідності його відкривати наступним способом: |          |

```php
<?php
$stdin = fopen('php://stdin', 'r');
?>
```

Якщо ви хочете прочитати один рядок з `stdin`, можна використовувати наступний код:

```php
<?php
$line = trim(fgets(STDIN)); // читает одну строку из STDIN
fscanf(STDIN, "%d\n", $number); // читает число из STDIN
?>
```

**`STDOUT`**

Вже відкритий потік виводу (`stdout`). Це запобігає необхідності його відкривати наступним способом:

```php
<?php
$stdout = fopen('php://stdout', 'w');
?>
```

**`STDERR`**

Вже відкритий потік помилок (`stderr`). Це запобігає необхідності його відкривати наступним способом:

```php
<?php
$stderr = fopen('php://stderr', 'w');
?>
```

Враховуючи вищесказане, немає необхідності самому відкривати потік, наприклад, `stderr`, А можна просто використовувати вже певну константу ресурсу потоку:

php -r' fwrite(STDERR, "stderrn");"

Вам не потрібно явно закривати ці потоки, вони будуть закриті PHP автоматично після закінчення вашого скрипта.

> **Зауваження**
> 
> Ці константи недоступні, якщо зчитується PHP-скрипт з `stdin`