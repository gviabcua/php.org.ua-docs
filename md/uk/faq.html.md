---
navigation:
  - faq.passwords.md: « Хешування паролів
  - faq.com.md: PHP та COM »
  - index.md: PHP Manual
  - faq.md: ЧАВО
title: PHP та HTML
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
# PHP та HTML

PHP та HTML тісно взаємодіють: PHP може генерувати HTML, а HTML може передавати інформацію PHP. Перед читанням питань у цьому розділі важливо, щоб ви розуміли як [отримувати змінні ззовні PHP](language.variables.external.md). Сторінки посібника з цієї теми містять багато прикладів.

1.  [Яке кодування/декодування я повинен виконувати під час передачі значення через форму/URL?](#faq.md.encoding)
    
2.  [Я намагаюся використати , але змінні $foo.x та $foo.y недоступні. $\_GET\['foo.x'\] теж немає. Де вони?](#faq.md.form-image)
    
3.  [Як створити масиви в HTML](#faq.md.arrays)
    
    [?](#faq.md.arrays)
    
4.  [Як отримати всі результати з HTML-тегу select із атрибутом multiple?](#faq.md.select-multiple)
    
5.  [Як я можу передати змінну з JavaScript до PHP?](#faq.md.javascript-variable)
    

**Яке кодування/декодування я повинен виконувати під час передачі значення через форму/URL?**

Тут кілька етапів, на яких кодування є важливим. Припустимо, що у вас є $data типу string, що містить рядок, який ви хочете передати без кодування. Ось ці етапи:

-   Інтерпретація HTML. Для того, щоб задати довільний рядок, ви*повинні*укласти її в подвійні лапки і використовувати[htmlspecialchars()](function.mdspecialchars.md)для кодування.
    
-   URL: URL складається з кількох частин. Якщо ви хочете, щоб ваші дані були сприйняті як один елемент, ви*повинні*закодувати їх за допомогою[urlencode()](function.urlencode.md)
    

**Приклад #1 Прихований елемент HTML-форми**

```php
<?php
    echo '<input type="hidden" value="' . htmlspecialchars($data) . '" />'."\n";
?>
```

> **Зауваження**: Використовувати [urlencode()](function.urlencode.md) для $data неправильно, тому що кодувати дані в [urlencode()](function.urlencode.md) це обов'язок браузера. Усі популярні браузери роблять це правильно. Зауважте, що це відбувається незалежно від методу (наприклад, GET або POST). Ви помітите це лише у випадку GET-запиту, оскільки POST-запити зазвичай приховані.

**Приклад #2 Дані, що редагуються користувачем**

```php
<?php
    echo "<textarea name='mydata'>\n";
    echo htmlspecialchars($data)."\n";
    echo "</textarea>";
?>
```

> **Зауваження**: Дані показуються браузером як передбачається, тому що браузер інтерпретуватиме екрановані HTML-символи. При надсиланні через GET або POST дані будуть закодовані (urlencoded) браузером для передачі та декодовані (urldecoded) PHP. Тому вам не потрібно виконувати будь-яке кодування/декодування url самостійно, все обробляються автоматично.

**Приклад #3 В URL**

```php
<?php
    echo '<a href="' . htmlspecialchars("/nextpage.php?stage=23&data=" .
        urlencode($data)) . '">'."\n";
?>
```

> **Зауваження**: Насправді ви підробляєте HTML GET-запитом, тому необхідно вручну закодувати ([urlencode()](function.urlencode.md)) Дані.

> **Зауваження**: Вам надо применить[htmlspecialchars()](function.mdspecialchars.md) до всього URL, тому що URL з'являється як значення HTML-атрибута. У цьому випадку браузер спочатку розкодує все значення (зворотна операція [htmlspecialchars()](function.mdspecialchars.md)) і потім передає URL-адресу. PHP зрозуміє URL правильно, так як ви закодували дані з [urlencode()](function.urlencode.md). Ви помітите, що `&` в URL замінюється на `&amp;`. Хоча більшість браузерів це виправляють, якщо ви забудете про це, але все ж таки це не завжди можливо. Тому, навіть якщо ваш URL не динамічний, вам *треба* закодувати його за допомогою [htmlspecialchars()](function.mdspecialchars.md)

**Я намагаюся використати , але змінні $foo.x і $foo.y недоступні . [$\_GET\['foo.x'\]](reserved.variables.get.md) теж немає. Де вони?**

При надсиланні форми, замість стандартної кнопки відправки можна використовувати зображення з тегом як:

Коли користувач клікає десь на картинці, серверу буде надіслано супутню форму з двома додатковими змінними: foo.x і foo.y.

Так як імена foo.x і foo.y не дозволені в PHP, вони автоматично перетворюються на foo\_x та foo\_y. Тобто точки замінюються на підкреслення. Таким чином, ви звертаєтесь до цих змінних так само, як і до будь-яких інших, описаних у розділі про отримання [змінних ззовні PHP](language.variables.external.md)Например,[$\_GET\['foo\_x'\]](reserved.variables.get.md)

> **Зауваження** :
> 
> Пробіли в іменах змінних запиту перетворюються на підкреслення.

**Як створити масиви в HTML ?**

Для того, щоб результати були передані вашому PHP скрипту як [масив](language.types.array.md), іменуйте елементи илиследующим образом:

   

Зауважте квадратні дужки після імені змінної, це робить її масивом. Ви можете згрупувати елементи в масив, присвоюючи одне й те саме ім'я різним елементам:

   

Це створить два масиви, MyArray та MyOtherArray, які будуть передані PHP-скрипту. Також можна задати певні ключі для ваших масивів:

   

Масив AnotherArray тепер міститиме ключі 0, 1, email та phone.

> **Зауваження** :
> 
> Визначати ключі масивів HTML необов'язково. Якщо ви не встановите ключі, масив заповнюється у порядку появи елементів у формі. Наш перший приклад буде містити ключі 0, 1, 2 та 3.

Также смотрите [Функції для роботи з масивами](ref.array.md) и [Змінні ззовні PHP](language.variables.external.md)

**Як отримати всі результати з HTML-тегу select із атрибутом multiple?**

HTML-тег select із зазначеним multiple дозволяє користувачеві вибрати кілька елементів зі списку. Ці елементи потім передаються обробнику форми. Проблема в тому, що всі вони передані з одним і тим же ім'ям. Наприклад:

Кожна обрана опція надійде обробнику форми як: var=option1 var=option2 var=option3 Кожна опція перезаписуватиме вміст попередньої змінної $var. Рішення - скористатися можливістю PHP - "масив із елемента форми". Слід використовувати таке:

Це вкаже PHP обробляти $var як масив і кожне присвоювання значення var\[\] додасть елемент масив. Першим елементом буде $var\[ \], наступним - $var\[ \]и т.д. Функция[count()](function.count.md) може бути використана для визначення, скільки елементів було вибрано, а функція [sort()](function.sort.md) - для сортування масиву опцій, якщо це потрібно.

Зауважте, що якщо ви використовуєте JavaScript, то `[]` у імені елемента можуть викликати проблеми, якщо ви намагаєтеся звертатися до елемента на ім'я. Замість цього використовуйте числовий ідентифікатор елемента форми або введіть ім'я змінної в одинарні лапки і використовуйте його як індекс масиву елементів, наприклад:

```
variable = document.forms[0].elements['var[]']; 
```

**Як я можу передати змінну з JavaScript до PHP?**

Оскільки JavaScript є (зазвичай) клієнтською технологією, а PHP, як правило, серверною, і оскільки HTML - протокол "без стану", ці дві мови не можуть обмінюватися змінними безпосередньо.

Однак, можна передавати змінні між ними. Один із способів досягти цього - згенерувати JavaScript-код із PHP і примусово оновлювати браузер, посилаючи певні змінні назад PHP-скрипту. Нижченаведений приклад показує як це зробити - він дозволяє PHP-коду отримати висоту та ширину екрана, що, зазвичай, можливе лише на стороні клієнта.

**Приклад #4 Генерування JavaScript з PHP**

```php
\\n"; echo "Высота экрана: ". $\_GET\['height'\] ."\\n"; } else { // передаём переменные с размерами // (сохраняем оригинальную строку запроса // -- post переменные нужно будет передавать другим способом) echo "\\n"; echo " location.href=\\"${\_SERVER\['SCRIPT\_NAME'\]}?${\_SERVER\['QUERY\_STRING'\]}" . "&width=\\" + screen.width + \\"&height=\\" + screen.height;\\n"; echo "\\n"; exit(); } ?> 
```
