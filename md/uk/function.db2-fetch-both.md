Повертає масив, індексований як на ім'я стовпця, так і за позицією, що представляє рядок у наборі результатів

-   [« db2fetchassoc](function.db2-fetch-assoc.html)
    
-   [db2fetchobject »](function.db2-fetch-object.html)
    
-   [PHP Manual](index.md)
    
-   [Функції IBM DB2](ref.ibm-db2.html)
    
-   Повертає масив, індексований як на ім'я стовпця, так і за позицією, що представляє рядок у наборі результатів
    

# db2fetchboth

(PECL ibmdb2> = 1.0.0)

db2fetchboth — Повертає масив, індексований як на ім'я стовпця, так і за позицією, що представляє рядок у наборі результатів

### Опис

```methodsynopsis
db2_fetch_both(resource $stmt, int $row_number = -1): array
```

Повертає масив, індексований як на ім'я стовпця, так і по позиції, що представляє рядок у наборі результатів. Зверніть увагу, що рядок, що повертається **db2fetchboth()**, вимагає більше пам'яті, ніж масиви з одним індексом, що повертаються [db2fetchassoc()](function.db2-fetch-assoc.html) або [db2fetcharray()](function.db2-fetch-array.html)

### Список параметрів

`stmt`

Допустимий ресурс `stmt`містить набір результатів.

`row_number`

Запитує конкретний рядок за індексом (починається з 1) із набору результатів. Передача параметра призводить до запобігання PHP, якщо в наборі результатів використовується курсор "forward-only".

### Значення, що повертаються

Повертає асоціативний масив зі значеннями стовпців, проіндексованим як на ім'я стовпця, так і за індексом стовпця (починаючи з 0). Масив представляє наступний або запитаний рядок набору результатів. Повертає **`false`**, якщо в наборі результатів не залишилося рядків або якщо рядок, запитаний `row_number`, немає в наборі результатів.

### Приклади

**Приклад #1 Перебір курсором forward-only**

Якщо ви викликаєте **db2fetchboth()** без певного номера рядка, він автоматично отримує наступний рядок у наборі результатів. У наступному прикладі доступ до стовпців у повертається масиві здійснюється як на ім'я стовпця, так і за числовим індексом.

```php
<?php

$sql = "SELECT id, name, breed, weight FROM animals ORDER BY breed";
$stmt = db2_prepare($conn, $sql);
$result = db2_execute($stmt);

while ($row = db2_fetch_both($stmt)) {
    printf ("%-5d %-16s %-32s %10s\n",
        $row['ID'], $row[0], $row['BREED'], $row[3]);
}
?>
```

Результат виконання цього прикладу:

```
0     Pook             cat                                    3.20
5     Rickety Ride     goat                                   9.70
2     Smarty           horse                                350.00
```

**Приклад #2 Отримання певних рядків за допомогою **db2fetchboth()** з курсора, що прокручується**

Якщо у вашому наборі результатів використовується курсор, що прокручується, ви можете викликати **db2fetchboth()** з певним номером рядка. У наступному прикладі витягується кожен другий рядок у наборі результатів, починаючи з другого рядка.

```php
<?php

$sql = "SELECT id, name, breed, weight FROM animals ORDER BY breed";
$result = db2_exec($stmt, $sql, array('cursor' => DB2_SCROLLABLE));

$i=2;
while ($row = db2_fetch_both($result, $i)) {
    printf ("%-5d %-16s %-32s %10s\n",
        $row[0], $row['NAME'], $row[2], $row['WEIGHT']);
    $i = $i + 2;
}
?>
```

Результат виконання цього прикладу:

```
0     Pook             cat                                    3.20
5     Rickety Ride     goat                                   9.70
2     Smarty           horse                                350.00
```

### Дивіться також

-   [db2fetcharray()](function.db2-fetch-array.html) - Повертає масив, індексований за положенням стовпця, що представляє рядок у наборі результатів
-   [db2fetchassoc()](function.db2-fetch-assoc.html) - Повертає масив, індексований на ім'я стовпця, що представляє рядок у наборі результатів
-   [db2fetchobject()](function.db2-fetch-object.html) - Повертає об'єкт із властивостями, що становлять стовпці у вибраному рядку
-   [db2fetchrow()](function.db2-fetch-row.html) - Встановлює вказівник набору результатів на наступний рядок або запрошений рядок
-   [db2result()](function.db2-result.html) - Повертає один стовпець з рядка у наборі результатів