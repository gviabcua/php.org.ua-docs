---
navigation:
  - function.mhash-get-hash-name.md: « mhash\_get\_hash\_name
  - function.mhash.md: mhash »
  - index.md: PHP Manual
  - ref.mhash.md: Функції Mhash
title: mhash\_keygen\_s2k
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
# mhash\_keygen\_s2k

(PHP 4 >= 4.0.4, PHP 5, PHP 7, PHP 8)

mhash\_keygen\_s2k - Генерація ключа

**Увага**

Функція оголошена *застарілої* починаючи з PHP 8.1.0. Використовувати цю функцію не рекомендується.

### Опис

```methodsynopsis
mhash_keygen_s2k(    int $algo,    string $password,    string $salt,    int $length): string|false
```

Генерує ключ відповідно до заданого `algo` та вказаним паролем `password`

Використовується алгоритм S2K із сіллю, як описано у документі OpenPGP ([» RFC 2440](http://www.faqs.org/rfcs/rfc2440)

Пам'ятайте, що паролі користувача не є підходящими ключами для криптографічних алгоритмів, оскільки зазвичай вони як мінімум набираються на клавіатурі. Такі паролі використовують лише 6-7 біт (або менше) на символ. Так що такі паролі рекомендується попередньо перетворювати (наприклад цією функцією).

### Список параметрів

`algo`

Идентификатор хеша. Одна из констант\*\*`MHASH_hashname`\*\*

`password`

Користувальницький пароль.

`salt`

Повинна бути різною і досить випадковою для кожного ключа, що створюється. Так як `salt` повинна бути відома під час перевірки ключа, то гарною ідеєю буде додати її до ключа. Сіль має фіксований розмір 8 байт і буде доповнена нулями, якщо заданий параметр буде коротшим.

`length`

Довжина ключа в байтах.

### Значення, що повертаються

Повертає рядок із ключем або \*\*`false`\*\*в случае возникновения ошибки.

### список змін

| Версия | Опис |
| --- | --- |
| 8.1.0 | Функцію оголошено застарілою. Використовуйте замість неї [функції `hash_*()`](ref.hash.md) |
