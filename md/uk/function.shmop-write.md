---
navigation:
  - function.shmop-size.md: « shmop\_size
  - class.shmop.md: Shmop »
  - index.md: PHP Manual
  - ref.shmop.md: 'Пам''ять, що розділяється (shared)'
title: shmop\_write
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
# shmop\_write

(PHP 4 >= 4.0.4, PHP 5, PHP 7, PHP 8)

shmop\_write — Запис даних у пам'ять, що розділяється.

### Опис

```methodsynopsis
shmop_write(Shmop $shmop, string $data, int $offset): int
```

**shmop\_write()** записує рядкові дані в ділянку пам'яті, що розділяється.

### Список параметрів

`shmop`

Ресурс блоку пам'яті, що повертається функцією [shmop\_open()](function.shmop-open.md)

`data`

Рядкові дані для розміщення в пам'яті

`offset`

Визначає, де місця пам'яті слід розпочати запис даних. Зміщення повинно бути більше або дорівнює нулю і менше або дорівнює фактичному розміру сегмента пам'яті, що розділяється.

### Значення, що повертаються

Розмір записаних даних, переданих через параметр `data`

### Помилки

Якщо параметр `offset` знаходиться поза діапазоном або в сегмент пам'яті, що розділяється, доступний тільки для читання, повинен бути зроблений запис, буде викинута помилка [ValueError](class.valueerror.md)

### список змін

| Версия | Опис |
| --- | --- |
| 8.0.0 | До PHP 8.0.0 у разі виникнення помилки поверталося **`false`** |
| 8.0.0 | Параметр`shmop` чекає на екземпляр [Shmop](class.shmop.md); раніше очікували ресурс (resource). |

### Приклади

**Приклад #1 Запис даних у ділянку пам'яті, що розділяється**

```php
<?php
$shm_bytes_written = shmop_write($shm_id, $my_string, 0);
?>
```

У цьому прикладі в пам'ять міститься вміст рядкової змінної `$my_string`, после чего переменная`$shm_bytes_written` міститиме розмір фактично записаних даних.

### Дивіться також

-   [shmop\_read()](function.shmop-read.md) \- Читання даних з ділянки пам'яті, що розділяється
