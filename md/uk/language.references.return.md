---
navigation:
  - language.references.pass.md: « Передача за посиланням
  - language.references.unset.md: Скидання змінних-посилань »
  - index.md: PHP Manual
  - language.references.md: Пояснення посилань
title: Повернення за посиланням
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
## Повернення за посиланням

Повернення за посиланням використовується в тих випадках, коли ви хочете використовувати функцію для вибору змінної, з якою має бути пов'язане це посилання . *Не* Використовуйте повернення за посиланням для збільшення продуктивності. Ядро PHP займається оптимізацією. Застосовуйте повернення за посиланням, тільки маючи технічні причини на це. Для повернення за посиланням використовуйте такий синтаксис:

```php
<?php
class foo {
    public $value = 42;

    public function &getValue() {
        return $this->value;
    }
}

$obj = new foo;
$myValue = &$obj->getValue(); // $myValue указывает на $obj->value, равное 42.
$obj->value = 2;
echo $myValue;                // отобразит новое значение $obj->value, то есть 2.
?>
```

У цьому прикладі встановлюється властивість об'єкта, повернутих функцією getValue, а не його копії, як було б без використання посилань.

> **Зауваження**: На відміну від передачі параметрів за посиланням, `&` тут потрібно використовувати в обох місцях - для вказівки на те, що ви повертаєте посилання, а не копію, як звичайно, і для вказівки того, що відбувається зв'язування посилання, а не звичайне присвоєння $myValue.

> **Зауваження**: Якщо ви повертаєте посилання з функції, використовуючи наступний синтаксис: `return ($this->value);`, це *не* буде працювати, тому що ви повертаєте за посиланням результат *вирази*, а чи не змінну. За посиланням можна повертати лише змінні та нічого більше.

Для використання посилання, що повертається, ви повинні застосовувати присвоєння за посиланням:

```php
<?php
function &collector() {
  static $collection = array();
  return $collection;
}
$collection = &collector();
$collection[] = 'foo';
?>
```

Для передачі посилання, що повертається, в іншу функцію, що приймає посилання, ви можете використовувати наступний синтаксис:

```php
<?php
function &collector() {
  static $collection = array();
  return $collection;
}
array_push(collector(), 'foo');
?>
```

> **Зауваження**: Зауважимо, що `array_push(&collector(), 'foo');` *не* спрацює, а призведе до непоправної помилки.
