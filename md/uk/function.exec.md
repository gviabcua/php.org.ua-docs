Виконати зовнішню програму

-   [« escapeshellcmd](function.escapeshellcmd.md)
    
-   [passthru »](function.passthru.md)
    
-   [PHP Manual](index.md)
    
-   [Функции запуска программ](ref.exec.md)
    
-   Виконати зовнішню програму
    

# exec

(PHP 4, PHP 5, PHP 7, PHP 8)

exec — Виконати зовнішню програму

### Опис

```methodsynopsis
exec(string $command, array &$output = null, int &$result_code = null): string|false
```

**exec()** виконує команду `command`

### Список параметрів

`command`

Команда, яка буде виконана.

`output`

Якщо параметр `output` вказано, що масив буде заповнений рядками виведення програми. Завершальні прогалини, такі як `\n`, не будуть включені до масиву. Зверніть увагу, що якщо масив вже містить якісь елементи, то **exec()** додасть нові елементи до кінця масиву. Якщо ви не бажаєте, щоб функція додавала нові елементи в кінець, викличте [unset()](function.unset.md) на цьому масиві, перш ніж передати його в **exec()**

`result_code`

Якщо аргумент `result_code` присутній разом з `output`, Тоді статус повернення виконаної команди буде записаний у цій змінній.

### Значення, що повертаються

Останній рядок із результату команди. Якщо потрібно виконати команду та отримати всі дані команди без будь-якої обробки, використовуйте функцію [passthru()](function.passthru.md)

Повертає **`false`** у разі виникнення помилки.

Щоб отримати результат виконання команди, переконайтеся, що параметр `output` ініціалізований та використовується.

### Приклади

**Приклад #1 Приклад функції **exec()****

```php
<?php
// выводит имя пользователя, от имени которого запущен процесс php/httpd
// (применимо к системам с командой "whoami" в системном пути)
$output=null;
$retval=null;
exec('whoami', $output, $retval);
echo "Вернёт статус $retval и значение:\n";
print_r($output);
?>
```

Результатом виконання цього прикладу буде щось подібне:

```
Вернёт статус 0 и значение:
Array
(
    [0] => cmb
)
```

### Примітки

**Увага**

Якщо ви збираєтеся передавати функції дані користувача, використовуйте функції [escapeshellarg()](function.escapeshellarg.md) або [escapeshellcmd()](function.escapeshellcmd.md) щоб користувачі не змогли обдурити систему, запустивши довільну команду.

> **Зауваження**
> 
> Якщо ви збираєтеся використовувати цю функцію в програмі, що працює як демон, переконайтеся, що стандартне виведення функції направлено у файл або інший потік, інакше PHP зависне аж до кінця виконання програми.

> **Зауваження**
> 
> У Windows функція **exec()** стартує cmd.exe для запуску команди. Якщо ви бажаєте запустити зовнішню програму без запуску cmd.exe, використовуйте функцію [procopen()](function.proc-open.html) із встановленою опцією `bypass_shell`

### Дивіться також

-   [system()](function.system.md) - Виконати зовнішню програму та відобразити висновок
-   [passthru()](function.passthru.md) - Виконати зовнішню програму та відобразити необроблений висновок
-   [escapeshellcmd()](function.escapeshellcmd.md) - Екранувати метасимволи командного рядка
-   [pcntlexec()](function.pcntl-exec.html) - Запустити вказану програму в галузі поточного процесу
-   [Оператор исполнения](language.operators.execution.md)