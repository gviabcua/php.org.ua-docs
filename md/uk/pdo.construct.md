Створює екземпляр PDO, що надає з'єднання з базою даних

-   [« PDO::commit](pdo.commit.html)
    
-   [PDO::errorCode »](pdo.errorcode.html)
    
-   [PHP Manual](index.html)
    
-   [PDO](class.pdo.html)
    
-   Створює екземпляр PDO, що надає з'єднання з базою даних
    

# PDO::construct

(PHP 5> = 5.1.0, PHP 7, PHP 8, PECL pdo> = 0.1.0)

PDO::construct - Створює екземпляр PDO, що надає з'єднання з базою даних

### Опис

public **PDO::construct**  
string `$dsn`  
?string `$username` **`null`**  
?string `$password` **`null`**  
?array `$options` **`null`**

Створює екземпляр PDO, що надає підключення до необхідної бази даних.

### Список параметрів

dsn

Ім'я джерела даних або DSN, що містить інформацію, необхідну для підключення до бази даних.

Загалом, DSN складається з імені драйвера PDO, за яким слідує двокрапка та специфічний синтаксис підключення драйвера PDO. Додаткову інформацію можна отримати з розділу [Документація по специфічним драйверам PDO](pdo.drivers.html)

Параметр `dsn` підтримує три різні методи вказівки аргументів, необхідних для створення з'єднання з базою даних:

Виклик драйвера

`dsn` містить повний DSN.

Виклик URI

Параметр `dsn` складається з рядка **`uri:`** з наступним URI, який визначає розташування файлу, що містить рядок DSN. URI може вказувати на локальний файл або віддалену URL-адресу.

**`uri:file:///path/to/dsnfile`**

Поєднання імен

`dsn` складається з імені `name`, що відповідає параметру `` pdo.dsn.`name` `` у php.ini, що визначає рядок DSN.

> **Зауваження**
> 
> Псевдонім повинен бути визначений у php.ini, але не в .htaccess чи httpd.conf

username

Ім'я користувача для рядка DSN. Цей параметр опціональний для деяких драйверів PDO.

passwd

Пароль для рядка DSN. Цей параметр опціональний для деяких драйверів PDO.

options

Масив ключ=>значення специфічних для драйвера налаштувань підключення.

### Помилки

**PDO::construct()** викидає виняток [PDOException](class.pdoexception.html), якщо спроба підключення до бази даних, що запитується, завершується з помилкою, незалежно від того, якою **`PDO::ATTR_ERRMODE`** встановлений на даний момент.

### Приклади

**Приклад #1 Створення екземпляра PDO через виклик драйвера**

```php
<?php
/* Подключение к базе данных MySQL с помощью вызова драйвера */
$dsn = 'mysql:dbname=testdb;host=127.0.0.1';
$user = 'dbuser';
$password = 'dbpass';

$dbh = new PDO($dsn, $user, $password);

?>
```

**Приклад #2 Створення екземпляра PDO через виклик URI**

У цьому прикладі передбачається, що файл /usr/local/dbconnect існує з правами доступу, які дозволяють PHP прочитати файл. Файл містить PDO DSN для підключення до бази даних DB2 через драйвер PDOODBC:

```
odbc:DSN=SAMPLE;UID=john;PWD=mypass
```

PHP-скрипт може створити підключення до бази даних шляхом простої передачі параметра `uri:`, що вказує на файл URI:

```php
<?php
/* Подключение к базе данных ODBC с помощью вызова драйвера */
$dsn = 'uri:file:///usr/local/dbconnect';
$user = '';
$password = '';

$dbh = new PDO($dsn, $user, $password);

?>
```

**Приклад #3 Створення екземпляра PDO, використовуючи псевдонім**

У наступному прикладі передбачається, що php.ini містить наступний запис, що дозволяє підключитися до бази даних MySQL, використовуючи лише псевдонім `mydb`

PDOpdo.dsn.mydb="mysql:dbname=testdb;host=localhost"

```php
<?php
/* Подключение к базе данных ODBC, используя псевдоним */
$dsn = 'mydb';
$user = '';
$password = '';

$dbh = new PDO($dsn, $user, $password);

?>
```