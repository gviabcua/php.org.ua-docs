Формування ключа PBKDF2 для вхідних даних

-   [« hash\_init](function.hash-init.html)
    
-   [hash\_update\_file »](function.hash-update-file.html)
    
-   [PHP Manual](index.html)
    
-   [Функции Hash](ref.hash.html)
    
-   Формування ключа PBKDF2 для вхідних даних
    

# hashpbkdf2

(PHP 5> = 5.5.0, PHP 7, PHP 8)

hashpbkdf2 - Формування ключа PBKDF2 для заданих вхідних даних

### Опис

```methodsynopsis
hash_pbkdf2(    string $algo,    string $password,    string $salt,    int $iterations,    int $length = 0,    bool $binary = false): string
```

### Список параметрів

`algo`

Ім'я обраного алгоритму хешування (наприклад, `md5` `sha256` `haval160,4` і т.д.) Список підтримуваних алгоритмів можна переглянути в описі функції [hash\_algos()](function.hash-algos.html)

`password`

Пароль, що використовується для формування.

`salt`

Сіль, що використовується для формування ключа. Значення необхідно генерувати випадковим чином.

`iterations`

Кількість ітерацій на формування ключа.

`length`

Довжина рядка, що генерується. Якщо параметр `binary` заданий як **`true`**, то цей параметр дорівнює кількості байт у ключі, що генерується. Якщо `binary` встановлений як **`false`**, то довжина ключа в байтах буде вдвічі менша, тому що кожен байт ключа буде повернутий у вигляді двох символів шістнадцяткової системи (0-F).

Якщо поставлено як `0`, то використовується весь висновок заданого алгоритму.

`binary`

Якщо встановлено **`true`**, то висновок буде необроблені бінарні дані, а якщо **`false`**, то висновок буде представлений у вигляді рядка шістнадцяткових цифр у нижньому регістрі.

### Значення, що повертаються

Повертається рядок містить сформований ключ у вигляді рядка шістнадцяткових чисел у нижньому регістрі. Але якщо параметр `binary` встановлений як **`true`**, то буде повернуто сирі бінарні дані.

### Помилки

Помилка рівня **`E_WARNING`** буде викликано якщо заданий алгоритм некоректний, параметр `iterations` менше або дорівнює `0`, параметр `length` менше ніж `0` або якщо `salt` дуже довгий (більше ніж **`INT_MAX`** `- 4`

### список змін

| Версия | Описание                                                                                                             |
|--------|----------------------------------------------------------------------------------------------------------------------|
|        | Заборонено використання некриптографічних функцій (adler32, crc32, crc32b, fnv132, fnv1a32, fnv164, fnv1a64, joaat). |

### Приклади

**Приклад #1 Приклад простого використання **hashpbkdf2()****

```php
<?php
$password = "password";
$iterations = 1000;

// Создаём случайный инициализирующий вектор
// с помощью openssl_random_pseudo_bytes() или другого источника случайных данных
$salt = openssl_random_pseudo_bytes(16);

$hash = hash_pbkdf2("sha256", $password, $salt, $iterations, 20);
var_dump($hash);

// для необработанного двоичного файла параметр $length должен быть уменьшен вдвое для получения аналогичных результатов
$hash = hash_pbkdf2("sha256", $password, $salt, $iterations, 10, true);
var_dump(bin2hex($hash));?>
```

Результатом виконання цього прикладу буде щось подібне:

```
string(20) "120fb6cffcf8b32c43e7"
string(20) "120fb6cffcf8b32c43e7"
```

### Примітки

**Застереження**

Метод PBKDF2 може бути використаний для хешування паролів з метою їх зберігання. Однак варто пам'ятати, що для цих цілей краще використовувати [password\_hash()](function.password-hash.html) або [crypt()](function.crypt.html) з **`CRYPT_BLOWFISH`**

### Дивіться також

-   [crypt()](function.crypt.html) - Необоротне хешування рядка
-   [password\_hash()](function.password-hash.html) - Створює хеш пароля
-   [hash()](function.hash.html) - Генерує хеш-код (підпис повідомлення)
-   [hash\_algos()](function.hash-algos.html) - Повертає список зареєстрованих алгоритмів хешування
-   [hash\_init()](function.hash-init.html) - Ініціалізація інкрементального контексту хешування
-   [hash\_hmac()](function.hash-hmac.html) - Генерація хеш-коду на основі ключа, використовуючи метод HMAC
-   [hash\_hmac\_file()](function.hash-hmac-file.html) - Генерація хеш-коду на основі ключа, використовуючи метод HMAC та вміст отриманого файлу
-   [openssl\_pbkdf2()](function.openssl-pbkdf2.html) - Генерує рядки PKCS5 v2 PBKDF2