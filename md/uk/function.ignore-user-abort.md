---
navigation:
  - function.hrtime.md: « hrtime
  - function.pack.md: pack »
  - index.md: PHP Manual
  - ref.misc.md: Різні функції
title: ignoreuserabort
---
# ignoreuserabort

(PHP 4, PHP 5, PHP 7, PHP 8)

ignoreuserabort — Встановити, чи має відключення клієнта переривати виконання скрипту

### Опис

```methodsynopsis
ignore_user_abort(?bool $enable = null): int
```

Встановлює, чи потрібно переривати роботу скрипту при відключенні клієнта.

При роботі з PHP-скриптом у командному рядку, коли термінал скрипта відключається без переривання роботи скрипта, скрипт буде зупинено, якщо параметр `enable` не дорівнює **`true`**

### Список параметрів

`enable`

Якщо параметр заданий і не **`null`**, то ця функція встановлює ini-налаштування [ignoreuserabort](misc.configuration.md#ini.ignore-user-abort), заданим значенням параметра `enable`. Якщо параметр не заданий, функція поверне попереднє значення опції без його зміни.

### Значення, що повертаються

Повертає попереднє значення у вигляді цілого числа.

### список змін

| Версия | Описание |
| --- | --- |
|  | `enable` тепер допускає значення null. |

### Приклади

**Приклад #1 Приклад використання **ignoreuserabort()****

```php
<?php
// Игнорирует отключение пользователя и позволяет скрипту
// быть запущенным постоянно
ignore_user_abort(true);
set_time_limit(0);

echo 'Тестирование обработки соединения в PHP';

// Запуск бесконечного цикла,
// который будет завершён при выходе со страницы,
// либо при нажатии кнопки "Stop".
while(1)
{
    // Завершено ли соединение?
    if(connection_status() != CONNECTION_NORMAL)
    {
        break;
    }

    // Пауза на 10 секунд
    sleep(10);
}

// Если скрипт достиг этой строки, то была
// выполнена функция 'break' из цикла while

// Здесь можно производить журналирование, либо
// выполнять другие необходимые операции независимо
// от браузера.
?>
```

### Примітки

PHP не виявить, що користувач перервав з'єднання доти, доки не буде зроблено спробу відправлення інформації клієнту. Просте використання виразу echo не гарантує надсилання інформації, дивіться функцію [flush()](function.flush.md)

### Дивіться також

-   [connectionaborted()](function.connection-aborted.md) - Перевірити, чи клієнт вимкнено
-   [connectionstatus()](function.connection-status.md) - Повертає статус з'єднання у бітах
-   Дивіться [Управление Соединением](features.connection-handling.md) для більш детальної інформації з управління з'єднаннями в PHP.
