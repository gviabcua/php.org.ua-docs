---
navigation:
  - function.fpassthru.md: « fpassthru
  - function.fputs.md: fputs »
  - index.md: PHP Manual
  - ref.filesystem.md: Функції файлової системи
title: fputcsv
---
# fputcsv

(PHP 5> = 5.1.0, PHP 7, PHP 8)

fputcsv — Форматує рядок у вигляді CSV і записує його у файловий покажчик

### Опис

```methodsynopsis
fputcsv(    resource $stream,    array $fields,    string $separator = ",",    string $enclosure = "\"",    string $escape = "\\",    string $eol = "\n"): int|false
```

**fputcsv()** форматує рядок (переданий у вигляді масиву `fields`) у вигляді CSV і записує її (закінчуючи перекладом рядка) у вказаний файл `stream`

### Список параметрів

`stream`

Вказівник на файл повинен бути коректним і вказувати на файл, успішно відкритий функціями [fopen()](function.fopen.md) або [fsockopen()](function.fsockopen.md) (і все ще не закритий функцією [fclose()](function.fclose.md)

`fields`

Масив рядків (string).

`separator`

Додатковий параметр `separator` встановлює роздільник полів (лише один однобайтовий символ).

`enclosure`

Додатковий параметр `enclosure` встановлює обмежувач полів (тільки один однобайтовий символ).

`escape`

Необов'язковий параметр `escape` задає екрануючий символ (не більше одного однобайтового символу). Порожня стрічка (`""`) відключає пропрієтарний механізм екранування.

`eol`

Необов'язковий параметр `eol` задає послідовність кінця рядка, що настроюється.

> **Зауваження**
> 
> Якщо символ `enclosure` міститься в полі, він буде екранований шляхом його подвоєння, якщо йому не передує `escape`

### Значення, що повертаються

Повертає довжину записаного рядка або **`false`** у разі виникнення помилки.

### список змін

| Версия | Описание |
| --- | --- |
|  | Додано необов'язковий параметр `eol` |
|  | Тепер параметр `escape` може приймати порожній рядок для вимкнення пропрієтарного механізму екранування. |

### Приклади

**Приклад #1 Приклад використання **fputcsv()****

```php
<?php

$list = array (
    array('aaa', 'bbb', 'ccc', 'dddd'),
    array('123', '456', '789'),
    array('"aaa"', '"bbb"')
);

$fp = fopen('file.csv', 'w');

foreach ($list as $fields) {
    fputcsv($fp, $fields);
}

fclose($fp);
?>
```

Наведений вище приклад запише у файл `file.csv` наступне:

```
aaa,bbb,ccc,dddd
123,456,789
"""aaa""","""bbb"""
```

### Примітки

> **Зауваження**: Якщо у вас виникають проблеми з розпізнаванням PHP кінців рядків при читанні або створенні файлів на Macintosh-сумісному комп'ютері, увімкнення опції [autodetectlineendings](filesystem.configuration.md#ini.auto-detect-line-endings) може допомогти вирішити проблему.

### Дивіться також

-   [fgetcsv()](function.fgetcsv.md) - Читає рядок з файлу та проводить розбір даних CSV
