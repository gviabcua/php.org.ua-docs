---
navigation:
  - function.get-defined-functions.html: « getdefinedfunctions
  - function.register-tick-function.html: registertickfunction »
  - index.md: PHP Manual
  - ref.funchand.md: Функции управления функциями
title: registershutdownfunction
---
# registershutdownfunction

(PHP 4, PHP 5, PHP 7, PHP 8)

registershutdownfunction — Реєструє функцію, яка виконується після завершення роботи скрипту

### Опис

```methodsynopsis
register_shutdown_function(callable $callback, mixed ...$args): ?bool
```

Реєструє функцію `callback`, яка виконається після завершення роботи скрипта або під час виклику функції [exit()](function.exit.md)

Можлива реєстрація кількох подібних функцій за допомогою \*\*registershutdownfunction()\*\*При цьому функції будуть виконуватися в тому порядку, в якому вони були зареєстровані. Якщо ви викликаєте [exit()](function.exit.md) в одній із зареєстрованих завершальних функцій процес буде повністю зупинено і наступні завершальні функції не будуть викликані.

Завершальні функції також можуть викликати самі **registershutdownfunction()**, щоб додати функцію вимкнення на кінець черги.

### Список параметрів

`callback`

Реєстрована завершальна функція.

Завершальні функції виконуються як частина запиту, тому можна надсилати дані на виведення з них та отримувати доступ до буферизації виводу.

`args`

Можна передавати параметри на завершальну функцію, передавши додаткові параметри.

### Значення, що повертаються

Функція не повертає значення після виконання.

### Помилки

Якщо передано назву неіснуючої завершальної функції, то генерується помилка рівня **`E_WARNING`**

### Приклади

**Приклад #1 Приклад використання **registershutdownfunction()****

```php
<?php
function shutdown()
{
    // Это наша завершающая функция,
    // здесь мы можем выполнить все последние операции
    // перед тем как скрипт полностью завершится.

    echo 'Скрипт успешно завершился', PHP_EOL;
}

register_shutdown_function('shutdown');
?>
```

### Примітки

> **Зауваження**
> 
> Робоча директорія скрипта може змінитися всередині завершальної функції деяких веб-серверах, наприклад, Apache.

> **Зауваження**
> 
> Функції, які виконуються при завершенні скрипту, не будуть виконані, якщо процес був убитий із сигналами SIGTERM або SIGKILL. Хоча ви не можете перехопити SIGKILL, але ви можете використовувати функцію [pcntlsignal()](function.pcntl-signal.md), щоб задати обробник сигналу SIGTERM, який використовує функцію [exit()](function.exit.md), щоб завершити скрипт правильно.

> **Зауваження**
> 
> Завершальні функції виконуються окремо від часу, що відстежується [maxexecutiontime](info.configuration.html#ini.max-execution-time). Це означає, що навіть якщо процес буде завершено через занадто довге виконання, завершальні функції все одно будуть викликані. Крім того, якщо `max_execution_time` закінчується під час роботи завершальної функції, процес не буде завершено.

### Дивіться також

-   [autoappendfile](ini.core.html#ini.auto-append-file)
-   [exit()](function.exit.md) - Вивести повідомлення та припинити виконання поточного скрипту
-   [fastcgifinishrequest()](function.fastcgi-finish-request.md) - скидає всі запитані дані клієнту
-   Розділ [Обработка соединений](features.connection-handling.md)
