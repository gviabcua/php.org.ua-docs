Журнал змін ОВП

-   [« Ковариантность и контравариантность](language.oop5.variance.html)
    
-   [Пространства имён »](language.namespaces.html)
    
-   [PHP Manual](index.html)
    
-   [Классы и объекты](language.oop5.html)
    
-   Журнал змін ОВП
    

## Журнал змін ОВП

Тут перераховані зміни моделі ОВП у PHP. Описи та інші примітки цих можливостей можна знайти у документації ОВП PHP.

| Версия | Описание |
| --- | --- |
|  | Додано: Підтримка модифікатора для констант класу. Крім того, константи інтерфейсу за умовчанням стають перевизначуваними. |
|  | Додано: Підтримка [оператора Nullsafe](language.oop5.basic.html#language.oop5.basic.nullsafe) *?->* для доступу до властивостей та методів об'єктів, які можуть дорівнювати null. |
|  | Змінено: Тепер можна викидати виняток у функції **toString()** |
|  | Додано: підтримка обмеженої коваріантності типів значення, що повертається, і типів аргументів. Підтримка повної варіативності здійснюється лише якщо використовується автозавантаження. Усередині одного файлу можливі лише нециклічні посилання на типи. |
|  | Додано: Тепер можна встановити тип для властивостей класу. |
|  | Несумісність: розпакування аргументів для [Traversable](class.traversable.html) з нецілочисленними ключами більше не підтримується. Така поведінка спочатку не планувалась і тепер видалена. |
|  | Несумісність: у попередніх версіях можна було розділити статичні властивості з допомогою присвоєння за посиланням. Тепер не можна. |
|  | Змінено: тепер оператор [instanceof](language.operators.type.html) допускає літерали як перший операнда. У цьому випадку завжди буде повернено **`false`** |
|  | Застаріло: метод [\_\_autoload()](function.autoload.html) оголошено застарілим на користь [spl\_autoload\_register()](function.spl-autoload-register.html) |
|  | Змінено: для імен класів, інтерфейсів та трейтів не можна використовувати слово `object` |
|  | Змінено: для групового use тепер можна додавати кому, що висить, в кінці списку. |
|  | Змінено: Типи параметрів із перевизначених методів та реалізації інтерфейсів тепер вказувати не обов'язково |
|  | Змінено: якщо один абстрактний клас успадковує від іншого абстрактного класу, він може перевизначати його абстрактні методи. |
|  | Змінено: для імен класів, інтерфейсів та трейтів не можна використовувати слова: `void` і `iterable` |
|  | Додано: тепер можна ставити [область видимости для констант классов](language.oop5.visibility.html#language.oop5.visiblity-constants) |
|  | Застаріло: [Статический](language.oop5.static.html) виклик нестатичних методів. |
|  | Застаріло: [конструктор](language.oop5.decon.html) у стилі PHP 4. Тобто. метод з ім'ям ідентичним імені класу, у якому його оголошено. |
|  | Додано: групова декларація *use*: класи, функції та константи, які потрібно імпортувати з одного і того ж простору імен тепер можуть бути згруповані в одному виразі use. |
|  | Додано: додано підтримку [анонимных классов](language.oop5.anonymous.html) за допомогою `new class` |
|  | Несумісність: ітерування об'єктів, що не реалізують [Traversable](class.traversable.html) тепер поводиться аналогічно ітерування масиву за посиланням. |
|  | Змінено: Визначення однакових (повністю збігаються) властивостей у двох [трейтах](language.oop5.traits.html) більше не викликає помилки. |
|  | Додано: метод [\_\_debugInfo()](language.oop5.magic.html#object.debuginfo) |
|  | Додано: магічна константа [::class](language.oop5.basic.html#language.oop5.basic.class.class) |
|  | Додано: [finally](language.exceptions.html) в обробник винятків. |
|  | Додано: [трейты](language.oop5.traits.html) |
|  | Змінено: Якщо [абстрактный](language.oop5.abstract.html) клас визначає сигнатуру для [конструктора](language.oop5.decon.html), вона буде примусово застосовуватися. |
|  | Змінено: Методи з тим самим ім'ям, що й останній елемент [пространства имён](language.namespaces.html) класу більше не розглядатимуться як [конструктор](language.oop5.decon.html). Ця зміна не впливає на класи, що не використовують простори імен. |
|  | Змінено: Більше не потрібно, щоб класи, що реалізують інтерфейси з методами, які мають значення за промовчанням у прототипі, відповідали значенням за промовчанням в інтерфейсі. |
|  | Змінено: Тепер можна посилатися на клас, використовуючи змінну (наприклад, `echo $classname::constant;`). Значення змінної не може бути ключовим словом (наприклад, `self` `parent` або `static` |
|  | Змінено: Помилка **`E_WARNING`** відбувається, якщо магічні [перегруженные](language.oop5.overloading.html) методи оголошені як [статические](language.oop5.static.html). Це також посилює вимогу, що ці методи мають бути загальнодоступними. |
|  | Змінено: До 5.3.0, виключення у функції [\_\_autoload()](function.autoload.html) не могли бути перехоплені у блоці [catch](language.exceptions.html) і призводили до фатальної помилки. Зараз винятки у функції autoload можуть бути перехоплені в блоці [catch](language.exceptions.html), але з одним застереженням. Якщо перехоплюється виняток користувача, то клас, який обробляє цей виняток, повинен бути доступний. Функція autoload може бути використана рекурсивно для автозавантаження користувача класу обробки виключення. |
|  | Додано: Метод [\_\_callStatic](language.oop5.overloading.html) |
|  | Додано: Підтримка [heredoc](language.types.string.html#language.types.string.syntax.heredoc) і [nowdoc](language.types.string.html#language.types.string.syntax.nowdoc) для *констант* та визначень властивостей класу. Примітка: Значення heredoc повинні дотримуватися тих же правил, що й рядки у подвійних лапках (наприклад, без змінних усередині). |
|  | Додано: [Позднее статическое связывание](language.oop5.late-static-bindings.html) |
|  | Додано: метод [\_\_invoke()](language.oop5.magic.html#object.invoke) |
|  | Змінено: Метод [\_\_toString()](language.oop5.magic.html#object.tostring) викликався тільки, коли він безпосередньо об'єднаний з [echo](function.echo.html) або [print](function.print.html). Зараз він викликається у будь-якому контексті рядка (наприклад, у [printf()](function.printf.html) з модифікатором `%s`), але не в інших типах контексту (наприклад, з модифікатором `%d`). З PHP 5.2.0, перетворення об'єктів без методу [\_\_toString](language.oop5.magic.html#object.tostring) у рядок видає помилку рівня **`E_RECOVERABLE_ERROR`** |
|  | Змінено: У попередніх версіях PHP 5 використання `var` вважалося застарілим і видавало помилку **`E_STRICT`**. Наразі це не вважається застарілим, тому помилка більше не видається. |
|  | Змінено: Статичний метод [\_\_set\_state()](language.oop5.magic.html#object.set-state) тепер викликається для класів, що експортуються функцією [var\_export()](function.var-export.html) |
|  | Додані: методи [\_\_isset()](language.oop5.overloading.html#object.isset) і [\_\_unset()](language.oop5.overloading.html#object.unset) |