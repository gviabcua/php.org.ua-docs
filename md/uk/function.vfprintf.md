Записує відформатований рядок у потік

-   [« utf8encode](function.utf8-encode.html)
    
-   [vprintf »](function.vprintf.html)
    
-   [PHP Manual](index.html)
    
-   [Функції для роботи з рядками](ref.strings.html)
    
-   Записує відформатований рядок у потік
    

# vfprintf

(PHP 5, PHP 7, PHP 8)

vfprintf — записує відформатований рядок у потік

### Опис

```methodsynopsis
vfprintf(resource $stream, string $format, array $values): int
```

Записує рядок, відформатований відповідно до параметра `format` у потік `stream`

Ця функція схожа на [fprintf()](function.fprintf.html)Але приймає не змінну кількість аргументів, а масив.

### Список параметрів

`stream`

`format`

Рядок формату складається з нуля або більше директив: звичайні символи (за винятком `%`), які просто виводяться без зміни та *специфікатори перетворення*, кожен із яких вимагає передачі свого параметра.

Специфікатори перетворення мають такий формат: `%[argnum$][flags][width][.precision]specifier`

##### Argnum

Ціло число, за яким слідує знак долара `$`, щоб вказати, який числовий аргумент обробляти під час перетворення.

**Прапори**

| Флаг      | Описание                                                                                                   |
|-----------|------------------------------------------------------------------------------------------------------------|
| `-`       | Вирівнювання по лівому краю в межах заданої ширини поля; За умовчанням вирівнювання відбувається праворуч. |
| `+`       | Друкує плюс `+` у не негативних чисел; За замовчуванням знак друкується лише у негативних чисел.           |
| (space)   | Доповнює результат пробілами. Це стандартна поведінка.                                                     |
| `0`       | Доповнює числа нулями (тільки зліва). Зі специфікатором `s` також може доповнювати нулями праворуч.        |
| `'`(char) | Доповнює результат символом (char).                                                                        |

##### Ширина

Ціла кількість, яка визначає мінімальну кількість символів, яка буде надрукована.

##### Точність

Крапка `.` з наступним цілим числом, що працює по-різному для різних специфікаторів:

-   Для специфікаторів `e` `E` `f` і `F`: задає кількість цифр після десяткової коми (за замовчуванням 6).
-   Для специфікаторів `g``G` `h` і `H`: задає максимальне значення значущих цифр.
-   Для специфікатора `s`: визначає обмеження максимальної кількості символів у рядку, які будуть виведені.

> **Зауваження**: Якщо вказана точка без наступного значення точності, то точність вважатиметься 0.

> **Зауваження**: Спроба використовувати специфікатор позиції зі значенням більше, ніж **`PHP_INT_MAX`** призведе до виведення попередження.

**Специфікатори**

| Спецификатор      | Описание                                                                                       |
|-------------------|------------------------------------------------------------------------------------------------|
| `%`               | Відсоток символ. Аргументи не потрібні.                                                        |
| `b`               | Аргумент сприймається як ціле число і друкується у бінарному поданні.                          |
| `c`               | Аргумент розглядається як ціле число і друкується як символ таблиці ASCII з відповідним кодом. |
| `d`               | Аргумент сприймається як ціле число і друкується як ціле число зі знаком.                      |
| `e`               | Аргумент вважається за число у науковій нотації (тобто 1.2e+2).                                |
| `E`               | Аналогічно специфікатору `e`, але використовує великі символи (тобто 1.2E+2).                  |
| `f`               | Аргумент вважається за число з точкою, що плаває (з урахуванням локалі).                       |
| `F`               | Аргумент вважається за число з точкою, що плаває (без урахування локалі).                      |
| `g`               |                                                                                                |
| Загальний формат. |                                                                                                |

Нехай P дорівнює точності, якщо вона не дорівнює нулю, 6 - якщо точність не задана і 1 якщо точність задана як 0. Тоді, якщо перетворення зі стилем "E" матиме показник ступеня X:

Якщо P > X ≥ -4, перетворення буде в стилі "f" і точність буде P - (X + 1). У протилежному випадку перетворення буде в стилі "e" і точність буде P − 1.

`G` | Аналогічно специфікатору `g`, але використовує `E` і `f`. `h` | Аналогічно специфікатору `g`, але використовує `F`. Доступний з PHP 8.0.0. | | `H` | Аналогічно специфікатору `g`, але використовує `E` і `F`. Доступний з PHP 8.0.0. | | `o` | Аргумент сприймається як ціле число і друкується у вісімковому поданні. | | `s` | Аргумент розглядається та друкується як рядок. | | `u` | Аргумент сприймається як ціле число і друкується як беззнакове ціле число. | | `x` | Аргумент розглядається як ціле число і друкується у шістнадцятковому поданні (літери будуть у нижньому регістрі). | | `X` | Аргумент розглядається як ціле число і друкується у шістнадцятковому поданні (літери будуть у верхньому регістрі). |

**Увага**

Специфікатор `c` ігнорує значення ширини та доповнення

**Увага**

Спроба використовувати специфікатори із зазначенням ширини для рядка в багатобайтовому кодуванні може призвести до несподіваних результатів.

Змінні будуть приведені до відповідного для специфікатора типу:

**Обробка типів**

| Тип    | Спецификатор                    |
|--------|---------------------------------|
| string | `s`                             |
| int    | `d` `u` `c` `o` `x` `X` `b`     |
| float  | `e` `E` `f` `F` `g` `G` `h` `H` |

`values`

### Значення, що повертаються

Повертає довжину виведеного рядка.

### Приклади

**Приклад #1 **vfprintf()**: доповнення нулями цілих чисел**

```php
<?php
if (!($fp = fopen('date.txt', 'w')))
    return;

vfprintf($fp, "%04d-%02d-%02d", array($year, $month, $day));
// запишет дату в формате ISO в date.txt
?>
```

### Дивіться також

-   [printf()](function.printf.html) - Виводить відформатований рядок
-   [sprintf()](function.sprintf.html) - Повертає відформатований рядок
-   [fprintf()](function.fprintf.html) - Записує відформатований рядок у потік
-   [vprintf()](function.vprintf.html) - Виводить відформатований рядок
-   [vsprintf()](function.vsprintf.html) - Повертає відформатований рядок
-   [sscanf()](function.sscanf.html) - Розбирає рядок відповідно до заданого формату
-   [fscanf()](function.fscanf.html) - Обробляє дані з файлу відповідно до формату
-   [numberformat()](function.number-format.html) - Форматує число з поділом груп
-   [date()](function.date.html) - Форматує тимчасову мітку Unix