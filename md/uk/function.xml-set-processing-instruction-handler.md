Встановлення обробника інструкцій препроцесора (PI)

-   [« xmlsetobject](function.xml-set-object.html)
    
-   [xmlsetstartnamespacedeclhandler »](function.xml-set-start-namespace-decl-handler.html)
    
-   [PHP Manual](index.md)
    
-   [Функции парсера XML](ref.xml.md)
    
-   Встановлення обробника інструкцій препроцесора (PI)
    

# xmlsetprocessinginstructionhandler

(PHP 4, PHP 5, PHP 7, PHP 8)

xmlsetprocessinginstructionhandler - Встановлення обробника інструкцій препроцесора (PI)

### Опис

```methodsynopsis
xml_set_processing_instruction_handler(XMLParser $parser, callable $handler): bool
```

Задає обробник інструкцій препроцесора (PI) для XML-аналізатора . `parser`

Інструкції мають такий формат:

```
<?
```

target data

```
??>
```

Можна вставляти PHP-код у тіло тега, але є одне обмеження: завершальний тег інструкцій (`?>`) не можна укладати в лапки, таким чином, ця послідовність символів не повинна зустрічатися в PHP-коді, який ви вставляєте за допомогою PI в XML-документи. Якщо це станеться, залишок PHP-коду буде сприйнятий як прості символьні дані.

### Список параметрів

`parser`

Посилання на аналізатор XML, для якого встановлюється обробник.

`handler`

`handler` - рядок, що містить ім'я функції, який повинен бути визначений на момент виклику функції [xmlparse()](function.xml-parse.html) з аналізатора `parser`

Функція з ім'ям `handler` має приймати три аргументи:

```methodsynopsis
handler(XMLParser $parser, string $target, string $data)
```

`parser`

Перший аргумент parser є посиланням на XML-аналізатор, що викликає обробник.

`target`

Другий аргумент `target` містить мету застосування PI.

`data`

Третій аргумент `data` містить PI-дані.

Якщо як обробник передано порожній рядок або **`false`**, цей обробник вимикається.

> **Зауваження**: Як аргумент замість імені функції може бути переданий масив, що містить посилання на об'єкт та ім'я методу.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у разі виникнення помилки.

### список змін

| Версия | Описание                                                                                                  |
|--------|-----------------------------------------------------------------------------------------------------------|
|        | Параметр `parser` чекає на екземпляр [XMLParser](class.xmlparser.md); раніше очікували ресурс (resource). |