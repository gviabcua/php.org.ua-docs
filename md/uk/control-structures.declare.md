declare

-   [« match](control-structures.match.html)
    
-   [return »](function.return.md)
    
-   [PHP Manual](index.md)
    
-   [Управляющие конструкции](language.control-structures.html)
    
-   declare
    

## declare

(PHP 4, PHP 5, PHP 7, PHP 8)

Конструкція `declare` використовується для встановлення директив виконання блоку коду. Синтаксис `declare` аналогічний із синтаксисом інших конструкцій управління виконанням:

```
declare (directive)
    statement
```

Секція `directive` дозволяє встановити поведінку блоку `declare`. В даний час розпізнаються лише три директиви: директива `ticks` (Додаткова інформація про директиву [ticks](control-structures.declare.html#control-structures.declare.ticks) доступна нижче), директива `encoding` (Додаткова інформація про директиву [encoding](control-structures.declare.html#control-structures.declare.encoding) доступна нижче) та директива `strict_types` (подробиці у розділі про [строгую типизацию](language.types.declarations.html#language.types.declarations.strict) на сторінці аргументів функції)

Оскільки директиви обробляються при компіляції файлу, лише символьні дані можуть використовуватися як значення директиви. Не можна використовувати змінні та константи. Приклад:

```php
<?php
// Правильно:
declare(ticks=1);

// Недопустимо:
const TICK_VALUE = 1;
declare(ticks=TICK_VALUE);
?>
```

Частина `statement` блоку `declare` буде виконано - як виконується та які побічні ефекти виникають під час виконання, може залежати від директиви, яка встановлена ​​в блоці `directive`

Конструкція `declare` також може бути використана в глобальній області видимості, впливаючи на весь наступний за нею код (проте якщо файл з `declare` був включений, то вона не діятиме на батьківський файл).

```php
<?php
// это то же самое:

// можно так:
declare(ticks=1) {
    // прочие действия
}

// или так:
declare(ticks=1);
// прочие действия
?>
```

### Тікі

Тік - це подія, яка трапляється кожні N низькорівневих операцій, виконаних парсером усередині блоку `declare`. Значення N задається, використовуючи `ticks=N` усередині секції `directive` блоку `declare`

Не всі висловлювання підраховуються. Зазвичай, умовні висловлювання та висловлювання аргументів не підраховуються.

Подія (або кілька подій), яка виникає на кожному тику визначається, використовуючи [registertickfunction()](function.register-tick-function.html). Дивіться нижче приклад для додаткової інформації. Майте на увазі, що для одного тику може виникати кілька подій.

**Приклад #1 Приклад використання тику**

```php
<?php

declare(ticks=1);

// Функция, исполняемая при каждом тике
function tick_handler()
{
    echo "Вызывается tick_handler()\n";
}

register_tick_function('tick_handler'); // вызывает событие тика

$a = 1; // вызывает событие тика

if ($a > 0) {
    $a += 2; // вызывает событие тика
    print($a); // вызывает событие тика
}

?>
```

Дивіться також [registertickfunction()](function.register-tick-function.html) і [unregistertickfunction()](function.unregister-tick-function.html)

### Кодування

Кодування скрипта може бути вказане для кожного скрипта, використовуючи директиву `encoding`

**Приклад #2 Визначення кодування скрипту.**

```php
<?php
declare(encoding='ISO-8859-1');
// прочий код
?>
```

**Застереження**

У поєднанні з простором імен єдино допустимий синтаксис для declare є `declare(encoding='...');` де `...` це значення кодування . `declare(encoding='...') {}` призведе до помилки парсера, якщо використовується разом із простором імен.

Дивіться також [zend.scriptencoding](ini.core.html#ini.zend.script-encoding)