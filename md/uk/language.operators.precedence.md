---
navigation:
  - language.operators.md: « Оператори
  - language.operators.arithmetic.md: Арифметика »
  - index.md: PHP Manual
  - language.operators.md: Оператори
title: Пріоритет оператора
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
## Пріоритет оператора

Пріоритет оператора визначає, наскільки «тісно» він пов'язує між собою два вирази. Наприклад, вираз `1 + 5 * 3` обчислюється як `16`, а не`18`, оскільки оператор множення («\*») має більш високий пріоритет, ніж оператор додавання («+»). Круглі дужки можна вказувати, щоб змінити порядок виконання операторів. Наприклад, вираз `(1 + 5) * 3` обчислюється як `18`

Якщо оператори мають рівний пріоритет, чи виконуватимуться вони праворуч наліво чи зліва направо — залежить від їхньої асоціативності. Наприклад, "-" - лівоасоціативний оператор. Тому вираз `1 - 2 - 3` згрупується як `(1 - 2) - 3` і перерахується в `-4`. У цьому оператор «=» — правоасоціативний, отже вираз `$a = $b = $c` згрупується як `$a = ($b = $c)`

Неасоціативні оператори з однаковим пріоритетом не можна вказувати разом. Наприклад, вираз `1 < 2 > 1` не працюватиме в PHP. При цьому вираз `1 <= 1 == 1` буде, оскільки в оператора `==` нижчий пріоритет, ніж у оператора `<=`

Асоціативність стосується лише двійкових (і тернарних) операторів. Унарні оператори бувають префіксними чи постфіксними, тому це поняття до них не стосується. Наприклад, `!!$a` можна згрупувати лише як `!(!$a)`

Вказівка ​​дужок, навіть якщо це не суворо необхідно, часто може покращити читання коду за рахунок явного угруповання, а не опори на пріоритети та асоціативність.

У наступній таблиці наведено список операторів, відсортований за зменшенням їх пріоритетів. Оператори, перелічені в одному рядку, мають однаковий пріоритет, тоді порядок їх виконання буде визначено тим, як вони згруповані.

**Порядок виконання операторів**

| Ассоциативность | Оператор | Дополнительная информация |
| --- | --- | --- |
| (н/а) | `clone` `new` | [clone](language.oop5.cloning.md) і [new](language.oop5.basic.md#language.oop5.basic.new) |
| права | `**` | [арифметичні оператори](language.operators.arithmetic.md) |
| (н/а) | `+` `-` `++` `--` `~` `(int)` `(float)` `(string)` `(array)` `(object)` `(bool)` `@` | [арифметичні оператори](language.operators.arithmetic.md) (Унарні `+` и`-` [інкремент/декремент](language.operators.increment.md) [побітові оператори](language.operators.bitwise.md) [приведення типів](language.types.type-juggling.md#language.types.typecasting) і [оператор керування помилками](language.operators.errorcontrol.md) |
| ліва | instanceof | [типи](language.operators.type.md) |
| (н/а) | ! | [логічні оператори](language.operators.logical.md) |
| ліва | `*` `%` | [арифметичні оператори](language.operators.arithmetic.md) |
| ліва | `+` `-` | [арифметичні оператори](language.operators.arithmetic.md) (бінарні `+` и`-` [оператори, які працюють з масивами](language.operators.array.md) і [строкові оператори](language.operators.string.md) до PHP 8.0.0) |
| ліва | `<<` `>>` | [побітові оператори](language.operators.bitwise.md) |
| ліва |  | [строкові оператори](language.operators.string.md)(починаючи з PHP 8.0.0) |
| неасоціативна | `<` `<=` `>` `>=` | [оператори порівняння](language.operators.comparison.md) |
| неасоціативна | `==` `!=` `===` `!==` `<>` `<=>` | [оператори порівняння](language.operators.comparison.md) |
| ліва | `&` | [побітові оператори](language.operators.bitwise.md) і [посилання](language.references.md) |
| ліва | `^` | [побітові оператори](language.operators.bitwise.md) |
| ліва | \` | \` |
| ліва | `&&` | [логічні оператори](language.operators.logical.md) |
| ліва | \` |  |
| права | `??` | [оператори порівняння з null](language.operators.comparison.md#language.operators.comparison.coalesce) |
| неасоціативна | `? :` | [тернарний оператор](language.operators.comparison.md#language.operators.comparison.ternary) (лівоасоціативний до PHP 8.0.0) |
| права | `=` `+=` `-=` `*=` `**=` `/=` `.=` `%=` `&=` \` | \= ^= <<= >>= ??=\` |
| (н/а) | `yield from` | [yield from](language.generators.syntax.md#control-structures.yield.from) |
| (н/а) | `yield` | [yield](language.generators.syntax.md#control-structures.yield) |
| (н/а) | `print` | [print](function.print.md) |
| ліва | `and` | [логічні оператори](language.operators.logical.md) |
| ліва | `xor` | [логічні оператори](language.operators.logical.md) |
| ліва | `or` | [логічні оператори](language.operators.logical.md) |

**Приклад #1 Асоціативність**

```php
<?php

$a = 3 * 3 % 5; // (3 * 3) % 5 = 4
// ассоциативность тернарных операторов отличается от C/C++
$a = true ? 0 : true ? 1 : 2; // (true ? 0 : true) ? 1 : 2 = 2 (до PHP 8.0.0)

$a = 1;
$b = 2;
$a = $b += 3; // $a = ($b += 3) -> $a = 5, $b = 5
```

Пріоритет та асоціативність оператора визначає лише те, як групується вираз, а не порядок його обчислення. Зазвичай PHP не вказує, в якому порядку обчислюються вирази, і потрібно уникати коду, який передбачає специфічний порядок обчислення, тому що поведінка може змінюватися в різних версіях PHP або залежно від навколишнього коду.

**Приклад #2 Невизначений порядок обчислення**

```php
<?php

$a = 1;
echo $a + $a++; // может вывести как 2, так и 3

$i = 1;
$array[$i] = $i++; // может установить индекс как 1, так 2
```

**Пример #3`+` `-`и мають однаковий пріоритет (до PHP 8.0.0)**

```php
<?php

$x = 4;
// следующий код может выдать неожиданный результат:
echo "x минус 1 равно " . $x-1 . ", ну, я надеюсь\n";

// поскольку он вычисляется таким образом (до PHP 8.0.0):
echo (("x минус один равно " . $x) - 1) . ", ну, я надеюсь\n";

// требуемый приоритет следует задать скобками:
echo "x минус 1 равно " . ($x-1) . ", ну, я надеюсь\n";
```

Результат виконання наведеного прикладу:

```
-1, ну, я надеюсь
-1, ну, я надеюсь
x минус один равно 3, ну, я надеюсь
```

> **Зауваження** :
> 
> Хотя оператор`=` і має нижчий пріоритет, ніж більшість інших операторів, PHP все ж дозволяє робити так: `if (!$a = foo())`, у цьому прикладі результат виконання функції `foo()`будет присвоен переменной $a.

### список змін

| Версия | Опис |
| --- | --- |
| 8.0.0 | Об'єднання рядків ( ) тепер має нижчий пріоритет, ніж арифметичне додавання/віднімання (`+` и`-`) і побитовий зсув вліво/вправо (`<<`и`>>`); раніше він мав той самий пріоритет, що і `+` и`-`, і вищий пріоритет, ніж `<<`и`>>` |
| 8.0.0 | Тернарний оператор (`? :`) тепер неасоціативний; раніше він був лівоасоціативним. |
| 7.4.0 | Практика, коли можна було спиратися на пріоритет конкатенації рядків ( ) при арифметичних операціях складання/віднімання (`+` или`-`) або побитовому зрушенні вліво/вправо (`<<`или`>>`), т. Е. Коли у виразі без дужок вони вказані разом, не рекомендована. |
| 7.4.0 | Практика, коли можна було покладатися на лівоасоціативність тернарного оператора (`? :`), т. е. вкладення кількох тернарних операторів без дужок, не рекомендовано. |
