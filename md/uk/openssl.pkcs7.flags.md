---
navigation:
  - openssl.key-types.html: « Типи ключів
  - openssl.cms.flags.html: Прапори/Константи CMS »
  - index.html: PHP Manual
  - openssl.constants.html: Обумовлені константи
title: Прапори/константи PKCS7
---
## Прапори/константи PKCS7

Функції S/MIME використовують прапори, які визначаються як набір бітів, який може включати одну або кілька наступних констант:

**Константи PKCS7**

| Константа | Описание |
| --- | --- |
| **`PKCS7_TEXT`** | Додає заголовок вмісту text/plain у зашифроване або підписане повідомлення. При розшифровці або перевірці заголовки будуть отримані під час виведення. Якщо після розшифровки або перевірки отримане повідомлення не має MIME-тип text/plain, це станеться. |
| **`PKCS7_BINARY`** | Зазвичай вхідне повідомлення наводиться до "канонічного" формату, що ефективно при використанні `CR` і `LF` наприкінці рядка: це потрібно сертифікацією S/MIME. Коли ця опція вказана, проблем із трансляцією символів кінця рядка не відбувається. Це зручно для обробки бінарних даних, які можуть бути не у форматі MIME. |
| **`PKCS7_NOINTERN`** | При перевірці повідомлення, сертифікати (якщо є), включені в повідомлення зазвичай перевіряються на наявність підпису. З цією опцією використовуються лише сертифікати, визначені у параметрі `extracerts` функції [opensslpkcs7verify()](function.openssl-pkcs7-verify.html). Інші сертифікати залишаються непідтвердженими центром сертифікації. |
| **`PKCS7_NOVERIFY`** | Не перевіряти підписувачів сертифіката підписаного повідомлення. |
| **`PKCS7_NOCHAIN`** | Не перевіряти підписувачів сертифіката по ланцюжку: тобто не використовувати сертифікати у підписаному повідомленні як неавторизовані центром сертифікації. |
| **`PKCS7_NOCERTS`** | При підписанні повідомлення сертифікат підписувача зазвичай включається в повідомлення - з даною опцією сертифікат не додається. Це дозволяє знизити розмір підписаного повідомлення, але перевіряючий повинен мати копію сертифіката підписувача, доступну локально (це не потрібно при використанні параметра `extracerts` функції [opensslpkcs7verify()](function.openssl-pkcs7-verify.html) |
| **`PKCS7_NOATTR`** | Зазвичай, коли повідомлення підписано, набір атрибутів також включається час підписання і підтримуваний симетричний алгоритм. За допомогою цієї опції таке додавання не відбувається. |
| **`PKCS7_DETACHED`** | Під час підписання повідомлення використовуйте підписання у відкритому вигляді (cleartext signing) з MIME-типом `"multipart/signed"`. Це виконується за умовчанням, якщо не вказувати нічого в `flags` функції [opensslpkcs7sign()](function.openssl-pkcs7-sign.html). Якщо вимкнути цю опцію, повідомлення буде підписано з використанням opaque signing, що стійкіше до передачі поштою, але не може бути прочитане поштовими агентами, які не підтримують S/MIME. |
| **`PKCS7_NOSIGS`** | Не намагатись перевірити підписи у повідомлення |
