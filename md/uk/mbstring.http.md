Введення та виведення HTTP

-   [« Основы японских многобайтных кодировок](mbstring.ja-basic.html)
    
-   [Кодування символів, що підтримуються »](mbstring.supported-encodings.html)
    
-   [PHP Manual](index.html)
    
-   [Багатобайтові рядки](book.mbstring.html)
    
-   Введення та виведення HTTP
    

# Введення та виведення HTTP

Механізм перетворення кодувань введення/виводу HTTP також може конвертувати двійкові дані. Користувачі повинні самі стежити за процесом перетворення, якщо введення/виведення HTTP передаються двійкові дані.

> **Зауваження**
> 
> Якщо `enctype` у HTML-формі має значення `multipart/form-data`, а значення `mbstring.encoding_translation` у php.ini встановлено On, змінні та імена завантажуваних файлів у POST-запитах конвертуються у внутрішнє кодування скрипта автоматично. Однак це не стосується ключів запиту.

-   Введення HTTP
    
    З PHP-скрипта неможливо контролювати перетворення кодування символів, що входять через HTTP. Якщо потрібно вимкнути автоматичну конвертацію для введення HTTP, це можна зробити в php.ini.
    
    **Приклад #1 Відключення перетворення кодування введення HTTP в php.ini**
    
    ;;; Вимкнення конвертації mbstring.httpinput = pass ;;; Вимкнення конвертації mbstring.encodingtranslation = Off
    
    Якщо PHP використовується як модуль Apache, можна перевизначити ці налаштування в кожній директиві віртуального хоста httpd.conf або для кожної директорії з .htaccess. За додатковою інформацією звертайтесь до розділу [Конфигурация](configuration.html) та до посібника з роботи з Apache.
    
-   Висновок HTTP
    
    Є кілька способів увімкнути перетворення кодування для вихідних даних. Один з них – використання php.ini, інший – використання функції [проstart()](function.ob-start.html) з [мбoutputhandler()](function.mb-output-handler.html) як callback-функції для `ob_start`
    

**Приклад #2 Приклад налаштування php.ini**

```
;; Включение преобразования кодировок выходных символов для всех PHP страниц

;; Включение буферизации выходных данных
output_buffering    = On

;; Определение mb_output_handler для включения конвертации вывода
output_handler      = mb_output_handler
```

**Приклад #3 Приклад скрипту**

```php
<?php

// Включение преобразования кодировок выходных символов только для этой страницы

// Установка кодировки HTTP вывода в SJIS
mb_http_output('SJIS');

// Запуск буферизации и определение "mb_output_handler" как
// callback-функции
ob_start('mb_output_handler');

?>
```