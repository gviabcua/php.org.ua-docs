---
navigation:
  - context.ftp.md: « Параметри контексту FTP
  - context.phar.md: Контекстні опції Phar »
  - index.md: PHP Manual
  - context.md: Контекстні опції та параметри
title: Опції контексту SSL
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
# Опції контексту SSL

Опції контексту SSL — Список опцій контексту SSL

### Опис

Опції контексту для протоколів `ssl://`и`tls://`

### Опції

`peer_name`string

Ім'я вузла. Якщо його значення не задано, тоді ім'я підставляється на основі імені хоста, використаного при відкритті потоку.

`verify_peer`bool

Вимагати перевірки SSL-сертифіката.

По умолчанию\*\*`true`\*\*

`verify_peer_name`bool

Вимагати перевірки імені вузла.

По умолчанию\*\*`true`\*\*

`allow_self_signed`bool

Дозволити самопідписані сертифікати. Вимагає [`verify_peer`](context.ssl.md#context.ssl.verify-peer)

По умолчанию\*\*`false`\*\*

`cafile`string

Розташування файлу сертифіката у локальній файловій системі, який слід використовувати з опцією контексту `verify_peer` для автентифікації віддаленого вузла.

`capath`string

Якщо параметр `cafile` не визначено або сертифікат не знайдено, здійснюється пошук у директорії, зазначеній у `capath`. Шлях `capath` повинен бути до коректної директорії, що містить сертифікати, імена яких є хеш від поля subject, зазначеного в сертифікаті.

`local_cert`string

Шлях до локального сертифіката у файловій системі. Це має бути файл, закодований у PEM, який містить ваш сертифікат та закритий ключ. Він може додатково містити відкритий ключ емітента. Закритий ключ також може міститися в окремому файлі, заданому `local_pk`

`local_pk`string

Шлях до локального файлу з приватним ключем у разі окремих файлів сертифіката (`local_cert`) та приватного ключа.

`passphrase`string

Ідентифікаційна фраза, з якою ваш файл `local_cert` було закодовано.

`verify_depth`int

Перервати, якщо ланцюжок сертифіката занадто довгий.

За промовчанням перевірка відсутня.

`ciphers`string

Встановлює перелік доступних алгоритмів шифрування. Формат цього рядка описаний у розділі [» шифри(1)](https://www.openssl.org/docs/manmaster/man1/ciphers.md#CIPHER-LIST-FORMAT)

По умолчанию принимает значение`DEFAULT`

`capture_peer_cert`bool

Если установлено в\*\*`true`\*\*, то будет создана опция контекста`peer_certificate`містить сертифікат віддаленого вузла.

`capture_peer_cert_chain`bool

Если установлено в\*\*`true`\*\*, то будет создана опция контекста`peer_certificate_chain`, що містить ланцюжок сертифікатів

`SNI_enabled`bool

Если установлено в\*\*`true`\*\*, то буде включено вказівку імені сервера. Включення SNI дозволяє використовувати різні сертифікати на тому самому IP-адресі.

`disable_compression`bool

Вимикає стиск TLS, що допомагає запобігти атакам типу CRIME.

`peer_fingerprint`string | array

Перерватися, якщо дайджест повідомлення не збігається із зазначеним хешом.

Якщо зазначений рядок (string), то його довжина визначає який алгоритм хешування буде використаний: "md5" (32) або "sha1" (40).

Якщо зазначений масив (array), ключі визначають алгоритм хешування, а кожне відповідне значення є необхідним хешом.

`security_level`int

Встановлює рівень безпеки. Якщо не вказано, використовується стандартний рівень безпеки, вказаний у бібліотеці. Рівні безпеки описані в [» SSL\_CTX\_get\_security\_level(3)](https://www.openssl.org/docs/man1.1.1/man3/SSL_CTX_get_security_level.md)

Доступна з PHP 7.2.0 та OpenSSL 1.1.0.

### список змін

| Версия | Опис |
| --- | --- |
| 7.2.0 | Добавлен`security_level`. . Потрібно OpenSSL >= 1.1.0. |

### Примітки

> **Зауваження**: Так как`ssl://` - це нижчележачий транспортний протокол для обгорток [`https://`](wrappers.http.md) і [`ftps://`](wrappers.ftp.md), то будь-які опції контексту, які застосовуються до `ssl://`будут также применяться к`https://`и`ftps://`

> **Зауваження**: Щоб була доступна можливість вказати ім'я сервера (SNI, Server Name Indication), PHP має бути скомпільований з OpenSSL 0.9.8j або пізнішою. Використовуйте константу **`OPENSSL_TLSEXT_SERVER_NAME`** щоб визначити, чи підтримується SNI.

### Дивіться також

-   [Контекстні опції сокету](context.socket.md)
