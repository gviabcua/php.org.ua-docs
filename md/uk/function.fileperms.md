---
navigation:
  - function.fileowner.md: « fileowner
  - function.filesize.md: filesize »
  - index.md: PHP Manual
  - ref.filesystem.md: Функції файлової системи
title: fileperms
---
# fileperms

(PHP 4, PHP 5, PHP 7, PHP 8)

fileperms — Повертає інформацію про права на файл

### Опис

```methodsynopsis
fileperms(string $filename): int|false
```

Повертає інформацію про права доступу до файлу.

### Список параметрів

`filename`

Шлях до файлу.

### Значення, що повертаються

Повертає права доступу на вказаний файл у числовому вигляді. Молодші біти цього значення такі ж, як і біти прав доступу для використання функції [chmod()](function.chmod.md), однак, на більшості платформ, що повертається значення буде також включати інформацію про тип файлу, який передано як параметр `filename`. Приклади нижче демонструють як перевірити значення, що повертається, на наявність певних прав і типу файлу на POSIX-системах, включаючи Linux і macOS.

Для локальних файлів, що повертається значення є частиною структури `st_mode`, яка повертається функцією С-бібліотеки [stat()](function.stat.md). Які в точності біти встановлені може змінюватись від платформи до платформи. Рекомендується пошукати документацію до вашої платформи, якщо потрібна обробка бітів значення, що повертається, що не належать до прав доступу.

Повертає **`false`** у разі виникнення помилки.

### Помилки

У разі невдалого завершення роботи генерується помилка рівня **`E_WARNING`**

### Приклади

**Приклад #1 Відображення прав доступу у вигляді восьмеричного числа**

```php
<?php
echo substr(sprintf('%o', fileperms('/tmp')), -4);
echo substr(sprintf('%o', fileperms('/etc/passwd')), -4);
?>
```

Результат виконання цього прикладу:

```
1777
0644
```

**Приклад #2 Відображення повних прав доступу**

```php
<?php
$perms = fileperms('/etc/passwd');

switch ($perms & 0xF000) {
    case 0xC000: // сокет
        $info = 's';
        break;
    case 0xA000: // символическая ссылка
        $info = 'l';
        break;
    case 0x8000: // обычный
        $info = 'r';
        break;
    case 0x6000: // файл блочного устройства
        $info = 'b';
        break;
    case 0x4000: // каталог
        $info = 'd';
        break;
    case 0x2000: // файл символьного устройства
        $info = 'c';
        break;
    case 0x1000: // FIFO канал
        $info = 'p';
        break;
    default: // неизвестный
        $info = 'u';
}

// Владелец
$info .= (($perms & 0x0100) ? 'r' : '-');
$info .= (($perms & 0x0080) ? 'w' : '-');
$info .= (($perms & 0x0040) ?
            (($perms & 0x0800) ? 's' : 'x' ) :
            (($perms & 0x0800) ? 'S' : '-'));

// Группа
$info .= (($perms & 0x0020) ? 'r' : '-');
$info .= (($perms & 0x0010) ? 'w' : '-');
$info .= (($perms & 0x0008) ?
            (($perms & 0x0400) ? 's' : 'x' ) :
            (($perms & 0x0400) ? 'S' : '-'));

// Мир
$info .= (($perms & 0x0004) ? 'r' : '-');
$info .= (($perms & 0x0002) ? 'w' : '-');
$info .= (($perms & 0x0001) ?
            (($perms & 0x0200) ? 't' : 'x' ) :
            (($perms & 0x0200) ? 'T' : '-'));

echo $info;
?>
```

Результат виконання цього прикладу:

```
-rw-r--r--
```

### Примітки

> **Зауваження**: Результати цієї функції кешуються Більш детальну інформацію дивіться у розділі [clearstatcache()](function.clearstatcache.md)

**Підказка**

Починаючи з PHP 5.0.0, ця функція також може бути використана з *деякими* обгортками url. Список обгорток, що підтримуються сімейством функцій [stat()](function.stat.md), дивіться у розділі [Підтримувані протоколи та обгортки](wrappers.md)

### Дивіться також

-   [chmod()](function.chmod.md) - Змінює режим доступу до файлу
-   [ісreadable()](function.is-readable.md) - Визначає існування файлу і чи він доступний для читання
-   [stat()](function.stat.md) - Повертає інформацію про файл
