---
navigation:
  - features.commandline.introduction.md: '" Вступ'
  - features.commandline.options.md: Опції »
  - index.md: PHP Manual
  - features.commandline.md: Робота з PHP з командного рядка
title: Основні відмінності від інших реалізацій SAPI
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
## Основні відмінності від інших реалізацій SAPI

Основні відмінності CLI SAPI від інших реалізацій SAPI:

-   На відміну від CGI SAPI, заголовки не пишуться до потоку виведення.
    
    Незважаючи на те, що в CGI SAPI є спосіб придушення HTTP-заголовків, CLI SAPI немає можливості їх включити.
    
    CLI за замовчуванням запускається в тихому режимі, проте ключі**\-q** і **\--no-header**збережені для зворотної сумісності, що дозволяє використовувати старі CGI-скрипти.
    
    Поточна директорія не змінюється робочу директорію скрипта. (Ключі**\-C** і **\--no-chdir**збережені для зворотної сумісності)
    
    Повідомлення про помилки видаються в текстовому режимі (без HTML-форматування).
    
-   Деякі налаштування php.ini перевизначаються CLI SAPI, оскільки вони не мають сенсу під час роботи в командному рядку:
    
    **Перевизначені директиви php.ini**
    
    | Директива | Значение по умолчанию в CLI SAPI | Комментарий |
    | --- | --- | --- |
    | [html\_errors](errorfunc.configuration.md#ini.md-errors) | **`false`** | По умолчанию\*\*`false`\*\*, т.к. буває досить складно читати в консолі повідомлення про помилку, коли вони наповнені безглуздими HTML-тегами. |
    | [implicit\_flush](outcontrol.configuration.md#ini.implicit-flush) | **`true`** | Зазвичай в консолі бажано відображати висновок, наприклад, [print](function.print.md) [echo](function.echo.md) та інших, відразу ж минаючи буфер. Тим не менш, як і раніше можна використовувати [буферизацію висновку](ref.outcontrol.md) для відкладеного висновку чи маніпуляцій із ним. |
    | [max\_execution\_time](info.configuration.md#ini.max-execution-time) | 0 (без обмежень) | PHP, що виконується в консолі, зазвичай використовується для більш широкого діапазону завдань, ніж звичайні веб-скрипти. Оскільки вони можуть виконуватися дуже довго, то максимальний час виконання необмежено. |
    | [register\_argc\_argv](ini.core.md#ini.register-argc-argv) | **`true`** |  |
    | Встановлення цієї опції значення **`true`** означає, що скрипти, що запускаються через CLI SAPI, завжди мають доступ до *argc* (кількість аргументів, переданих додатком) та *argv* (Масив поточних аргументів). |  |  |
    
    При використанні CLI SAPI змінні[$argc](reserved.variables.argc.md) і [$argv](reserved.variables.argv.md)автоматично заповнюються відповідними значеннями. Ці значення можна також знайти в масиві[$\_SERVER](reserved.variables.server.md), наприклад:[$\_SERVER\['argv'\]](reserved.variables.server.md)
    
    [output\_buffering](outcontrol.configuration.md#ini.output-buffering) **`false`**
    
    Незважаючи на те, що ця опція php.ini жорстко встановлена ​​в\*\*`false`\*\*, функції [буферизації висновку](book.outcontrol.md)все ще доступні.
    
    [max\_input\_time](info.configuration.md#ini.max-input-time) **`false`**
    
    PHP CLI не підтримує GET, POST або завантаження файлів.
    
    > **Зауваження** :
    > 
    > Ці директиви не можуть бути ініціалізовані іншими значеннями конфігураційного файлу php.ini або будь-якого іншого (у разі, якщо він вказаний). Це обмеження пов'язане з тим, що значення використовуються після обробки конфігураційних файлів. Тим не менш, ці значення можуть бути змінені під час роботи скрипта (хоча це не має особливого сенсу для всіх них, наприклад[register\_argc\_argv](ini.core.md#ini.register-argc-argv)
    
    > **Зауваження** :
    > 
    > Рекомендується встановити опцію[ignore\_user\_abort](misc.configuration.md#ini.ignore-user-abort)для скриптів, які використовуються з командного рядка. За подробицями звертайтесь до функції[ignore\_user\_abort()](function.ignore-user-abort.md)
    
-   Для полегшення роботи в оточенні оболонки було визначено кілька констант для[потоків введення/виводу](features.commandline.io-streams.md)
    
-   CLI SAPI**не**змінює поточну директорію на директорію скрипта.
    
    **Приклад #1 Приклад, що демонструє різницю із CGI SAPI:**
    
    ```php
    <?php
    // Найпростіший тестовий скрипт під назвою test.php
    echo getcwd(), "\n";
    ?>
    ```
    
    Якщо використовується CGI-версія, результат роботи буде наступним:
    
    ```
    $ pwd
    /tmp
    
    $ php -q another_directory/test.php
    /tmp/another_directory
    ```
    
    Це наочно демонструє, що PHP змінює поточну директорію на директорію скрипта.
    
    Використання CLI SAPI дає інший результат:
    
    ```
    $ pwd
    /tmp
    
    $ php -f another_directory/test.php
    /tmp
    ```
    
    Це забезпечує більшу гнучкість при написанні консольних скриптів на PHP.
    
    > **Зауваження** :
    > 
    > CGI SAPI дозволяє отримати аналогічну CLI SAPI поведінку у разі використання ключа**\-C**під час запуску з командного рядка.
