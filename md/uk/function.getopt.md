---
navigation:
  - function.getmyuid.md: « getmyuid
  - function.getrusage.md: getrusage »
  - index.md: PHP Manual
  - ref.info.md: Опції PHP/інформаційні функції
title: getopt
origin_hash: ddf652f5224dc9f1fa9671347921941ca401ea50
---
# getopt

(PHP 4 >= 4.3.0, PHP 5, PHP 7, PHP 8)

getopt — Отримує параметри зі списку аргументів командного рядка

### Опис

```methodsynopsis
getopt(string $short_options, array $long_options = [], int &$rest_index = null): array|false
```

Аналізує параметри, передані в скрипт.

### Список параметрів

`short_options`

Кожен символ у цьому рядку розглядатиметься як параметр і порівнюватиметься із символами, переданими у скрипт, перед якими стоятиме дефіс (`-`). Например, строка параметров`"x"` розпізнається як параметр `-x`. Допускаються лише символи a-z, A-Z та 0-9.

`long_options`

Масив параметрів. Кожен елемент масиву використовуватиметься як рядковий параметр і порівнюватиметься з параметрами, переданими в скрипт, перед якими стоятиме подвійний дефіс (`--`). Наприклад, елемент longopts `"opt"` буде розшифровуватися як `--opt`

`rest_index`

Если задан параметр`rest_index`, то індекс, на якому зупинився розбір, буде записано до нього.

Аргумент`short_options` може містити такі елементи:

-   Окремі символи (що не мають значень)
-   Символи, за якими слідує двокрапка (параметр вимагає значення)
-   Символи, за якими слідує дві двокрапки (необов'язкове значення)

Значення параметрів йдуть за рядком параметра (символом). Якщо потрібно значення, то немає різниці, є між ними пробіл чи ні.

> **Зауваження**: Необов'язкові значення не можна відокремлювати від інших пропусків `" "`

Значення масиву `long_options` можуть містити:

-   Рядок (параметр не набуває жодних значень)
-   Рядок, за яким слідує двокрапка (параметр вимагає значення)
-   Рядок, за яким слідує дві двокрапки (необов'язкове значення)

> **Зауваження** :
> 
> Формати `short_options`и`long_options` практично збігаються. Відмінність полягає лише в тому, що `long_options` приймає масив параметрів (у якому кожен елемент є параметром) у той час, як `short_options` приймає рядок (де параметром є кожен символ).

### Значення, що повертаються

Функція поверне масив пар параметрів/аргументів або \*\*`false`\*\*в случае возникновения ошибки.

> **Зауваження** :
> 
> Як тільки зустрінеться перший символ, що не є параметром, розбір рядка команди буде завершено, а частина рядка, що залишилася, буде проігнорована.

### список змін

| Версия | Опис |
| --- | --- |
| 7.1.0 | Добавлен параметр`rest_index` |

### Приклади

**Пример #1 Пример использования**getopt()**: основи**

```php
<?php
// Скрипт example.php
$options = getopt("f:hp:");
var_dump($options);
?>
```

shell> php example.php -fvalue -h

Результат виконання наведеного прикладу:

```
array(2) {
  ["f"]=>
  string(5) "value"
  ["h"]=>
  bool(false)
}
```

**Пример #2 Пример использования**getopt()**: додавання довгих опцій**

```php
<?php
// Скрипт example.php
$shortopts  = "";
$shortopts .= "f:";  // Обязательное значение
$shortopts .= "v::"; // Необязательное значение
$shortopts .= "abc"; // Эти параметры не принимают никаких значений

$longopts  = array(
    "required:",     // Обязательное значение
    "optional::",    // Необязательное значение
    "option",        // Нет значения
    "opt",           // Нет значения
);
$options = getopt($shortopts, $longopts);
var_dump($options);
?>
```

shell> php example.php -f "value for f" -v -a --required value --optional="optional value" --option

Результат виконання наведеного прикладу:

```
array(6) {
  ["f"]=>
  string(11) "value for f"
  ["v"]=>
  bool(false)
  ["a"]=>
  bool(false)
  ["required"]=>
  string(5) "value"
  ["optional"]=>
  string(14) "optional value"
  ["option"]=>
  bool(false)
}
```

**Пример #3 Пример использования**getopt()**: Передача кількох параметрів як одного**

```php
<?php
// Скрипт example.php
$options = getopt("abc");
var_dump($options);
?>
```

shell> php example.php -aaac

Результат виконання наведеного прикладу:

```
array(2) {
  ["a"]=>
  array(3) {
    [0]=>
    bool(false)
    [1]=>
    bool(false)
    [2]=>
    bool(false)
  }
  ["c"]=>
  bool(false)
}
```

**Пример #4 Пример**getopt()**с параметром`rest_index`**

```php
<?php
// Скрипт example.php
$rest_index = null;
$opts = getopt('a:b:', [], $rest_index);
$pos_args = array_slice($argv, $rest_index);
var_dump($pos_args);
```

shell> php example.php -a 1 -b 2 -- test

Результат виконання наведеного прикладу:

```
array(1) {
  [0]=>
  string(4) "test"
}
```

### Дивіться також

-   [](reserved.variables.argv.md)[$argv](reserved.variables.argv.md)
