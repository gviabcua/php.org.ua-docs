Встановлює час очікування у мілісекундах для викликів бази даних

-   [« oci\_set\_action](function.oci-set-action.html)
    
-   [oci\_set\_client\_identifier »](function.oci-set-client-identifier.html)
    
-   [PHP Manual](index.html)
    
-   [OCI8 Функции](ref.oci8.html)
    
-   Встановлює час очікування у мілісекундах для викликів бази даних
    

# ocisetcalltimeout

(PHP 7.2 >= 7.2.14, PHP 8, PHP 7 >= 7.3.1, PHP 8, PECL OCI8 >= 2.2.0)

ocisetcalltimeout — Встановлює час очікування у мілісекундах для викликів бази даних

### Опис

```methodsynopsis
oci_set_call_timeout(resource $connection, int $timeout): bool
```

Встановлює час очікування, який обмежує максимальний час кругового шляху (round-trip) бази даних під час використання цього підключення.

Кожна операція OCI8 може виконувати нуль або більше дзвінків до бібліотечної бібліотеки Oracle. Потім ці внутрішні виклики можуть призвести до нульової чи більшої кількості звернень до бази даних Oracle. Якщо якийсь із цих циклічних обходів займає більше мілісекунд, ніж зазначено в `time_out`, операція скасовується та додатку повертається помилка.

Значення `time_out` застосовується до кожного циклу окремо, а не до суми всіх циклів в обидва кінці. Час, витрачений на обробку в PHP OCI8 до або після завершення кожного циклічного шляху, не враховується.

При перериванні виклику Oracle спробує очистити з'єднання для повторного використання. Ця операція може бути запущена для іншого періоду `time_out`. Залежно від результатів очищення, підключення може використовуватися повторно.

У разі використання постійних з'єднань значення часу очікування зберігається у запитах PHP.

Функція **ocisetcalltimeout()** доступна, коли OCI8 використовує клієнтські бібліотеки Oracle 18 (або пізнішої версії).

### Список параметрів

`connection`

Ідентифікатор з'єднання Oracle, що повертається [oci\_connect()](function.oci-connect.html) [oci\_pconnect()](function.oci-pconnect.html), або [oci\_new\_connect()](function.oci-new-connect.html)

`timeout`

Максимальний час у мілісекундах, який може зайняти один циклічний шлях (round-trip) між PHP та базою даних Oracle

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у разі виникнення помилки.

### Приклади

**Приклад #1 Встановлення часу очікування**

```php
<?php

$conn = oci_connect('hr', 'welcome', 'localhost/XE');
oci_set_call_timeout($conn, 5000);

?>
```