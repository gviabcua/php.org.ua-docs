---
navigation:
  - function.strrpos.md: « strrpos
  - function.strstr.md: strstr »
  - index.md: PHP Manual
  - ref.strings.md: Функції для роботи з рядками
title: strspn
---
# strspn

(PHP 4, PHP 5, PHP 7, PHP 8)

strspn — Повертає довжину ділянки на початку рядка, що повністю відповідає масці

### Опис

```methodsynopsis
strspn(    string $string,    string $characters,    int $offset = 0,    ?int $length = null): int
```

Повертає довжину ділянки від початку рядка `string`, що містить *тільки* символи з `characters`

Якщо параметри `offset` і `length` не вказано, то буде досліджено весь рядок `string`. Якщо вони вказані, то ефект буде аналогічним виклику `strspn(substr($string, $offset, $length), $characters)` (Докладніше дивіться функцію [substr](function.substr.md)

Рядок коду:

```php
<?php
$var = strspn("42 - ответ на 128 вопрос.", "1234567890");
?>
```

присвоїть `2` змінної $var, тому що "42" - це початкова ділянка рядка `string`, Що складається тільки з символів "1234567890".

### Список параметрів

`string`

Досліджуваний рядок.

`characters`

Список із дозволених символів.

`offset`

Позиція початку пошуку в `subject`

Якщо `offset` вказаний і невід'ємний, то **strspn()** почне шукати у рядку `string`, починаючи з позиції `offset`. Наприклад, у рядку '`abcdef`', символ з позиції `0` є '`a`', символ з позиції `2` є '`c`' і т.д.

Якщо `offset` вказаний і негативний, то **strspn()** почне пошук у рядку `string` з позиції, що віддаляється на `offset` символів з кінця `string`

`length`

Довжина досліджуваного фрагмента `string`

Якщо `length` вказаний і невід'ємний, то рядок `string` буде досліджена протягом `length` після стартової позиції.

Якщо `length` вказаний і негативний, то рядок `string` буде досліджено починаючи зі стартової позиції до позиції, що віддаляється на `length` символів з кінця `string`

### Значення, що повертаються

Повертає довжину першої ділянки `string`, що складається цілком із символів у `characters`

> **Зауваження**
> 
> Коли `offset` вказано, довжина рядка, що повертається, визначається, починаючи з цієї позиції, а не з початку рядка `string`

### список змін

| Версия | Описание |
| --- | --- |
|  | `length` тепер допускає значення null. |

### Приклади

**Приклад #1 Приклад використання **strspn()****

```php
<?php
// subject не начинается ни из какого символа из mask
var_dump(strspn("foo", "o"));

// проверить два символа из subject, начиная с позиции 1
var_dump(strspn("foo", "o", 1, 2));

// проверить один символ из subject, начиная с позиции 1
var_dump(strspn("foo", "o", 1, 1));
?>
```

Результат виконання цього прикладу:

```
int(0)
int(2)
int(1)
```

### Примітки

> **Зауваження**: Ця функція безпечна для обробки даних у двійковій формі.

### Дивіться також

-   [strcspn()](function.strcspn.md) - Повертає довжину ділянки на початку рядка, що не відповідає масці
