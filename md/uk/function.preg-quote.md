Екранує символи у регулярних виразах

-   [« preg\_match](function.preg-match.html)
    
-   [preg\_replace\_callback\_array »](function.preg-replace-callback-array.html)
    
-   [PHP Manual](index.html)
    
-   [Функции PCRE](ref.pcre.html)
    
-   Екранує символи у регулярних виразах
    

# pregquote

(PHP 4, PHP 5, PHP 7, PHP 8)

pregquote - Екранує символи в регулярних виразах

### Опис

```methodsynopsis
preg_quote(string $str, ?string $delimiter = null): string
```

Функція **pregquote()** приймає рядок `str` і додає зворотний сліш перед кожним службовим символом. Це корисно, якщо у складанні шаблону беруть участь рядкові змінні, значення яких у процесі роботи скрипта може змінюватися.

У регулярних виразах службовими вважаються такі символи: `. \ + * ? [ ^ ] $ ( ) { } = ! < > | : - #`

Зверніть увагу, що символ `/` не є службовим.

> **Зауваження**
> 
> Зверніть увагу, що **pregquote()** не призначена для застосування до рядків $replacement функції [preg\_replace()](function.preg-replace.html) і т.д.

### Список параметрів

`str`

Вхідний рядок.

`delimiter`

Якщо вказано необов'язковий параметр `delimiter`, він також екрануватиметься. Це зручно для екранування роздільника, який використовується у PCRE-функціях. Найбільш поширеним роздільником є ​​символ `/`

### Значення, що повертаються

Повертає екранований рядок.

### список змін

| Версия | Описание |
| --- | --- |
|  | Символ `#` тепер екранується |
|  | `delimiter` тепер допускає значення null. |

### Приклади

**Приклад #1 Приклад використання **pregquote()****

```php
<?php
$keywords = '$40 за g3/400';
$keywords = preg_quote($keywords, '/');
echo $keywords; // возвращает \$40 за g3\/400
?>
```

**Приклад #2 Виділення курсивом слова у тексті**

```php
<?php
// В данном примере preg_quote($word) используется, чтобы
// избежать трактовки символа '*' как спец. символа.

$textbody = "Эту книгу *очень* тяжело найти.";
$word = "*очень*";
$textbody = preg_replace ("/" . preg_quote($word, '/') . "/",
                          "<i>" . $word . "</i>",
                          $textbody);
?>
```

### Примітки

> **Зауваження**: Ця функція безпечна для обробки даних у двійковій формі.

### Дивіться також

-   [Регулярные выражения PCRE](pcre.pattern.html)
-   [escapeshellcmd()](function.escapeshellcmd.html) - Екранувати метасимволи командного рядка