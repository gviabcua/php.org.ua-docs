---
navigation:
  - function.mcrypt-generic-deinit.html: « mcryptgenericdeinit
  - function.mcrypt-generic.html: mcryptgeneric »
  - index.md: PHP Manual
  - ref.mcrypt.md: Mcrypt
title: mcryptgenericinit
---
# mcryptgenericinit

(PHP 4 >= 4.0.2, PHP 5, PHP 7 < 7.2.0, PECL mcrypt >= 1.0.0)

mcryptgenericinit — Функція ініціалізує всі буфери, необхідні для шифрування

**Увага**

Ця функція оголошена *Застарілої*, починаючи з PHP 7.1.0 і була *ВИДАЛЕНО* у версії PHP 7.2.0. Використовувати цю функцію не рекомендується.

### Опис

```methodsynopsis
mcrypt_generic_init(resource $td, string $key, string $iv): int
```

Ви повинні викликати цю функцію перед будь-яким викликом [mcryptgeneric()](function.mcrypt-generic.html) або [mdecryptgeneric()](function.mdecrypt-generic.html)

### Список параметрів

`td`

Дескриптор шифрування.

`key`

Максимальна довжина ключа має бути отримана за допомогою функції [mcryptencgetkeysize()](function.mcrypt-enc-get-key-size.html) та будь-яке менше значення припустимо.

`iv`

Зазвичай розмір вектора (IV), що ініціалізує, повинен збігатися з розміром блоку, але ви все одно повинні отримати це значення за допомогою функції [mcryptencgetвербsize()](function.mcrypt-enc-get-iv-size.html). IV ігнорується до ECB. IV ПОВИНЕН бути присутнім у режимах CFB, CBC, STREAM, nOFB та OFB. Він має бути випадковим та унікальним (але не обов'язково секретним). Один і той же IV повинен використовуватися як при шифруванні, так і при дешифруванні. Якщо ви не бажаєте його використовувати - просто встановіть його рівним нулю, але так чинити не рекомендується.

### Значення, що повертаються

У разі виникнення помилки ця функція повертає негативне число: -3 якщо довжина ключа некоректна, -4 якщо виникли проблеми з виділенням пам'яті, а будь-яке інше значення означає невідому помилку. Також у разі будь-якої помилки буде викликано попередження. якщо передано некоректні параметри, буде повернено **`false`**

### Дивіться також

-   [mcryptmoduleopen()](function.mcrypt-module-open.html) - Відкриває модуль шифрування з використанням вказаних алгоритму та режиму
